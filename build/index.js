!function(){"use strict";var e,n,t,l,o,r,a,c,i,u={162:function(e,n,t){t.d(n,{S:function(){return c}});var l=t(196),o=t.n(l),r=t(759);const a={text:r.nv,checkbox:r.ji,media:r.uh,richText:r.UK,datePicker:r.bJ,cta:r.sK,colors:r.Zw,select:r.mg,itemsSelection:r.OP,lastTypes:r.xr},c=e=>{var n,t,c,i,u;const{config:s,value:d,onChange:v}=e,m=(0,l.useMemo)((()=>{var e,n;return null!==(n=a[null!==(e=s.field)&&void 0!==e?e:"text"])&&void 0!==n?n:a.text}),[null==s?void 0:s.type]);return o().createElement("div",{className:"field-wrapper",style:{flex:"0 1 "+(null!==(n=s.width)&&void 0!==n?n:100)+"%"}},(null===(t=null==s?void 0:s.children)||void 0===t?void 0:t.length)?o().createElement(r.Ji,{config:s,onChange:v,value:d,customAttributes:null!==(u=s.attributes)&&void 0!==u?u:{}}):o().createElement(m,{label:null!==(c=s.label)&&void 0!==c?c:s.name,onChange:v,value:d,placeholder:"",customAttributes:null!==(i=s.attributes)&&void 0!==i?i:{}}))}},116:function(e,n,t){t.d(n,{q:function(){return a}});var l=t(196),o=t.n(l),r=t(162);const a=e=>{const{blockName:n="",children:t,config:{fields:l=[]},setAttributes:a,backgroundColor:c,attributes:i}=e;return o().createElement("div",{className:"BlockWrapper"},!!(null==n?void 0:n.length)&&o().createElement("h3",{className:"title"},n),""!==c&&o().createElement("div",{className:"background-wrapper"},"Colore di sfondo: ",o().createElement("span",{className:"background-color",style:{backgroundColor:c}})),!!t&&o().createElement("div",{className:"BlockWrapper__children"},t),o().createElement("div",{className:"BlockWrapper__content",style:{display:"flex",flexFlow:"row wrap"}},l.map((e=>{var n;return o().createElement(r.S,{config:e,onChange:n=>a(Object.assign(Object.assign({},i),{[e.name]:n})),value:null!==(n=i[e.name])&&void 0!==n?n:""})}))))}},568:function(e,n,t){t.d(n,{J:function(){return c}});var l=t(196),o=t.n(l),r=t(162);const a=e=>{const{config:n,onChange:t,index:l,value:a}=e;return o().createElement(r.S,{config:n,onChange:e=>t(e,l),value:a})},c=e=>{const n=e.config,t=void 0===n?{}:n,{children:r=[]}=t,{onChange:c=(()=>null),value:i=[]}=(function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}}(t,["children"]),e),u=(0,l.useMemo)((()=>null==i?void 0:i.length),[i]),s=(e,n,t)=>{const l=[...i];return l[t]=Object.assign(Object.assign({},l[t]),{[e]:n}),c(l)};return o().createElement("div",null,o().createElement("div",null,"Count: ",u),Array.from({length:u},(e=>r)).map(((e,n)=>o().createElement("div",{className:"cyclops-addable-item"},e.map((e=>{var t,l;return o().createElement(a,{config:e,onChange:t=>s(e.name,t,n),value:null!==(l=null===(t=i[n])||void 0===t?void 0:t[e.name])&&void 0!==l?l:"",index:n})})),o().createElement("button",{className:"cyclops-button",onClick:e=>(e=>c(i.filter(((n,t)=>t!==e))))(n)},"Remove #",n)))),o().createElement("button",{className:"cyclops-button",onClick:e=>c([...i,""])},"Aggiungi nuovo"))}},353:function(e,n,t){t.d(n,{j:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(912);const c=e=>{const{value:n,placeholder:t,label:l=""}=e,c=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t}(e,["value","placeholder","label"]);return o().createElement(a.n,{label:""},o().createElement(r.CheckboxControl,Object.assign({checked:n,label:l},c)))}},124:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(912);const c=e=>{var n,t;const{value:l,customAttributes:c,onChange:i,label:u=""}=e;return o().createElement(a.n,{label:u},o().createElement("br",null),o().createElement(r.ColorPalette,{colors:null!==(n=null==c?void 0:c.colors)&&void 0!==n?n:[],value:l,disableCustomColors:null!==(t=null==c?void 0:c.customColors)&&void 0!==t&&t,onChange:i}))}},836:function(e,n,t){t.d(n,{s:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{var n;const{value:t,placeholder:l,onChange:c,label:i=""}=e,u=t&&""!==(null==t?void 0:t.href)?`<a href="${null==t?void 0:t.href}">${null==t?void 0:t.text}</a>`:null!==(n=null==t?void 0:t.text)&&void 0!==n?n:"";return o().createElement(a.n,{label:i},o().createElement(r.RichText,{value:u,"aria-label":"Button text",placeholder:l||"Add textâ€¦",inlineToolbar:!0,className:"wp-block-button__link",onChange:e=>{var n,t;const l=(new DOMParser).parseFromString(e,"text/html").body.querySelector("a"),o=null!==(n=null==l?void 0:l.innerText)&&void 0!==n?n:e,r=null!==(t=null==l?void 0:l.getAttribute("href"))&&void 0!==t?t:"";c({href:r,text:o})}}))}},585:function(e,n,t){t.d(n,{b:function(){return a}});var l=t(196),o=t.n(l),r=t(912);const a=e=>{const{label:n="",value:t,onChange:l}=e;return o().createElement(r.n,{label:n})}},759:function(e,n,t){t.d(n,{Ji:function(){return l.J},ji:function(){return o.j},Zw:function(){return r.Z},sK:function(){return a.s},bJ:function(){return c.b},xr:function(){return i.x},uh:function(){return u.u},mg:function(){return s.m},nv:function(){return d.n},OP:function(){return v.O},UK:function(){return m.U}});var l=t(568),o=t(353),r=t(124),a=t(836),c=t(585),i=t(329),u=t(989),s=t(289),d=t(903),v=t(686),m=t(546);t(912)},329:function(e,n,t){t.d(n,{x:function(){return c}});var l=t(196),o=t.n(l),r=t(912),a=t(818);const c=e=>{const{value:n,onChange:t,label:c="",customAttributes:i}=e,u=(0,a.useSelect)((e=>{var n,t,l,o,r;const a=null!==(n=null==i?void 0:i.postType)&&void 0!==n?n:"posts",c="user"===a?"root":"postType",u=Object.assign(Object.assign(Object.assign({},!!(null==i?void 0:i.categories)&&{[null!==(t=null==i?void 0:i.categoriesName)&&void 0!==t?t:"categories"]:null==i?void 0:i.categories}),!!(null==i?void 0:i.perPage)&&{per_page:null==i?void 0:i.perPage}),!!(null==i?void 0:i.metaField)&&{metaKey:null===(l=null==i?void 0:i.metaField)||void 0===l?void 0:l.key,metaValue:null===(o=null==i?void 0:i.metaField)||void 0===o?void 0:o.value,metaCompare:null===(r=null==i?void 0:i.metaField)||void 0===r?void 0:r.compare});return e("core").getEntityRecords(c,a,u)}),[]);return(0,l.useEffect)((()=>{(null==u?void 0:u.length)&&t(JSON.stringify(u.map((e=>e.id))))}),[u]),o().createElement(r.n,{label:c},(null==u?void 0:u.length)>0&&o().createElement("ul",null,u.map((e=>{var n;return o().createElement("li",null,null===(n=e.title)||void 0===n?void 0:n.rendered)}))))}},989:function(e,n,t){t.d(n,{u:function(){return a}});var l=t(196),o=t.n(l),r=t(175);const a=e=>{const{label:n="",onChange:t,value:a,placeholder:c}=e,{value:{id:i}}=e,u=(0,l.useMemo)((()=>!!i),[i]);return o().createElement("div",null,!u&&o().createElement(r.MediaPlaceholder,{onSelect:t,allowedTypes:["image"],multiple:!1,labels:{title:"The Image"},value:e.value,addToGallery:!0}),u&&o().createElement("div",null,o().createElement("div",{className:"wf-media-preview"},o().createElement("img",{src:e.value.url,alt:e.value.alt})),o().createElement("div",null,o().createElement("button",{type:"button",onClick:n=>e.onChange({})},"Rimuovi Immagine"))))}},546:function(e,n,t){t.d(n,{U:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{const{value:n,placeholder:t,onChange:l,label:c=""}=e;return o().createElement(a.n,{label:c},o().createElement(r.RichText,{value:n,placeholder:t,onChange:l}))}},289:function(e,n,t){t.d(n,{m:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(912);const c=e=>{var n,t,l;const{value:c,customAttributes:i,onChange:u,label:s=""}=e;return o().createElement(a.n,{label:s},o().createElement("br",null),o().createElement(r.SelectControl,{label:null!==(n=null==i?void 0:i.placeholder)&&void 0!==n?n:"Select an option...",value:c,options:null!==(t=null==i?void 0:i.options)&&void 0!==t?t:[],multiple:null!==(l=null==i?void 0:i.multiple)&&void 0!==l&&l,onChange:u}))}},903:function(e,n,t){t.d(n,{n:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{const{label:n="",onChange:t,value:l,placeholder:c}=e;return o().createElement(a.n,{label:n},o().createElement(r.PlainText,{onChange:t,value:l,placeholder:c}))}},686:function(e,n,t){t.d(n,{O:function(){return c}});var l=t(196),o=t.n(l),r=t(912),a=t(818);const c=e=>{var n;const{value:t,onChange:c,label:i="",customAttributes:u}=e,[s,d]=(0,l.useState)(""),[v,m]=(0,l.useState)([]),[p,f]=(0,l.useState)(!1),b=null!==(n=null==u?void 0:u.postType)&&void 0!==n?n:"posts",g="user"===b?"root":"postType",h=(null==t?void 0:t.length)?JSON.parse(t):[],E=(0,a.useSelect)((e=>{const n=Object.assign({search:s},!!(null==u?void 0:u.role)&&{roles:null==u?void 0:u.role});return e("core").getEntityRecords(g,b,n)}),[s]),y=(0,a.useSelect)((e=>e("core").getEntityRecords(g,b,{include:null!=h?h:[]})),[p]);return(0,l.useEffect)((()=>{p&&(null==y?void 0:y.length)&&(y.sort(((e,n)=>h.indexOf(e.id)-h.indexOf(n.id))),m(null!=y?y:[]))}),[y]),(0,l.useEffect)((()=>{!p&&(null==E?void 0:E.length)&&f(!0)}),[E]),(0,l.useEffect)((()=>{p&&c(JSON.stringify(v.map((e=>e.id))))}),[v]),o().createElement(r.n,{label:i},o().createElement("div",{className:"TypesSelection"},o().createElement("div",{className:"type-selection-wrapper"},o().createElement("div",{className:"type-selection-search-wrapper"},o().createElement("input",{type:"text",autoComplete:"off",className:"type-selection-search-input",name:"search",placeholder:"Search...",onChange:e=>d(e.currentTarget.value)}),(null==E?void 0:E.length)>0&&o().createElement("ul",{className:"type-selection-results",style:{listStyle:"none"}},E.map((e=>{var n,t;return o().createElement("li",{className:"type-selection-result"},o().createElement("button",{className:h.includes(e.id)?"--selected":"",onClick:()=>{var n;n=e,v.some((e=>e.id===n.id))?m(v.filter((e=>e.id!==n.id))):m([...v,n])}},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name))}))),(!E||0===(null==E?void 0:E.length))&&o().createElement("div",{className:"type-selection-no-result"},"No results found")),o().createElement("div",{className:"type-selection-selection-wrapper"},(null==v?void 0:v.length)>0&&v.map((e=>{var n,t;return o().createElement("span",{className:"type-selection-selection"},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name)}))))))}},912:function(e,n,t){t.d(n,{n:function(){return r}});var l=t(196),o=t.n(l);const r=e=>{const{label:n,children:t}=e;return o().createElement("div",null,!!(null==n?void 0:n.length)&&o().createElement("label",{className:"field-label"},n),!!t&&t)}},187:function(e,n,t){t.d(n,{k:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(162);const c=e=>{const{label:n="",fields:t=[],onChangeColor:l,setAttributes:c,attributes:i}=e;return o().createElement(r.Panel,null,o().createElement(r.PanelBody,{title:n,initialOpen:!0},t.map((e=>{var n;return o().createElement(r.PanelRow,null,o().createElement(a.S,{config:Object.assign({},e),onChange:n=>{"colors"===e.field&&l(n),c(Object.assign(Object.assign({},i),{[e.name]:n}))},value:null!==(n=i[e.name])&&void 0!==n?n:""}))}))))}},196:function(e){e.exports=window.React},175:function(e){e.exports=window.wp.blockEditor},981:function(e){e.exports=window.wp.blocks},609:function(e){e.exports=window.wp.components},818:function(e){e.exports=window.wp.data}},s={};function d(e){var n=s[e];if(void 0!==n)return n.exports;var t=s[e]={exports:{}};return u[e](t,t.exports,d),t.exports}d.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(n,{a:n}),n},d.d=function(e,n){for(var t in n)d.o(n,t)&&!d.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},d.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l=d(196),o=d.n(l),r=d(981),a=d(175),c=d(116),i=d(187),null===(t=null===(n=null===(e=null===window||void 0===window?void 0:window.CY)||void 0===e?void 0:e.blocks)||void 0===n?void 0:n.forEach)||void 0===t||t.call(n,(e=>{(e=>{var n;const{name:t,fields:u,blocksControl:s}=e,d=u.reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),v=s.flatMap((e=>e.fields)).reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),m=Object.assign(Object.assign({},d),v);(0,r.registerBlockType)(e.blockName,{title:e.name,category:"layout",icon:"smiley",supports:{html:!0},parent:null!==(n=e.parent)&&void 0!==n?n:null,attributes:m,edit:n=>{var r;const u=e.blocksControl.some((({fields:e})=>e.some((e=>"colors"===e.field)))),[s,d]=(0,l.useState)(u?"transparent":""),v=(0,a.useBlockProps)({className:e.blockName});(0,l.useEffect)((()=>{for(const[e,t]of Object.entries(n.attributes))if("backgroundColor"===e){d(t);break}}),[]);const m=e=>{d(e)};return o().createElement("div",Object.assign({},v),o().createElement(c.q,Object.assign({blockName:t,config:e,backgroundColor:s},n)),o().createElement(a.InspectorControls,null,e.blocksControl.map((({title:e,fields:t})=>o().createElement(i.k,Object.assign({fields:t,label:e,onChangeColor:m},n))))),(null===(r=e.innerBlocks)||void 0===r?void 0:r.length)&&o().createElement("div",{className:"inner-blocks"},"Add fields ",o().createElement(a.InnerBlocks,{allowedBlocks:e.innerBlocks})))},save:n=>{var t;return o().createElement(o().Fragment,null,n,(null===(t=e.innerBlocks)||void 0===t?void 0:t.length)&&o().createElement(a.InnerBlocks.Content,null))}})})(e)}))}();
//# sourceMappingURL=index.js.map