!function(){"use strict";var e,n,t,l,o,a,r,c,i,s={162:function(e,n,t){t.d(n,{S:function(){return c}});var l=t(196),o=t.n(l),a=t(759);const r={text:a.nv,checkbox:a.ji,media:a.uh,richText:a.UK,datePicker:a.bJ,cta:a.sK,colors:a.Zw,select:a.mg,itemsSelection:a.OP,lastTypes:a.xr,multiSelect:a.n},c=e=>{var n,t,c,i,s;const{config:u,value:d,onChange:v}=e,m=(0,l.useMemo)((()=>{var e,n;return null!==(n=r[null!==(e=u.field)&&void 0!==e?e:"text"])&&void 0!==n?n:r.text}),[null==u?void 0:u.type]);return o().createElement("div",{className:"field-wrapper",style:{flex:"0 1 "+(null!==(n=u.width)&&void 0!==n?n:100)+"%"}},(null===(t=null==u?void 0:u.children)||void 0===t?void 0:t.length)?o().createElement(a.Ji,{config:u,onChange:v,value:d,customAttributes:null!==(s=u.attributes)&&void 0!==s?s:{}}):o().createElement(m,{label:null!==(c=u.label)&&void 0!==c?c:u.name,onChange:v,value:d,placeholder:"",customAttributes:null!==(i=u.attributes)&&void 0!==i?i:{}}))}},116:function(e,n,t){t.d(n,{q:function(){return r}});var l=t(196),o=t.n(l),a=t(162);const r=e=>{const{blockName:n="",children:t,config:{fields:l=[]},setAttributes:r,backgroundColor:c,attributes:i}=e;return o().createElement("div",{className:"BlockWrapper"},!!(null==n?void 0:n.length)&&o().createElement("h3",{className:"title"},n),""!==c&&o().createElement("div",{className:"background-wrapper"},"Colore di sfondo: ",o().createElement("span",{className:"background-color",style:{backgroundColor:c}})),!!t&&o().createElement("div",{className:"BlockWrapper__children"},t),o().createElement("div",{className:"BlockWrapper__content",style:{display:"flex",flexFlow:"row wrap"}},l.map((e=>{var n;return o().createElement(a.S,{config:e,onChange:n=>r(Object.assign(Object.assign({},i),{[e.name]:n})),value:null!==(n=i[e.name])&&void 0!==n?n:""})}))))}},568:function(e,n,t){t.d(n,{J:function(){return c}});var l=t(196),o=t.n(l),a=t(162);const r=e=>{const{config:n,onChange:t,index:l,value:r}=e;return o().createElement(a.S,{config:n,onChange:e=>t(e,l),value:r})},c=e=>{const n=e.config,t=void 0===n?{}:n,{children:a=[]}=t,{onChange:c=(()=>null),value:i=[]}=(function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}}(t,["children"]),e),s=(0,l.useMemo)((()=>null==i?void 0:i.length),[i]),u=(e,n,t)=>{const l=[...i];return l[t]=Object.assign(Object.assign({},l[t]),{[e]:n}),c(l)};return o().createElement("div",{className:"CyclopsAddable"},s>0&&o().createElement("div",{className:"addable-count"},"Totale elementi aggiunti: ",s),Array.from({length:s},(e=>a)).map(((e,n)=>o().createElement("div",{className:"cyclops-addable-item"},o().createElement("span",{className:"item-title"},"Elemento ",n+1),e.map((e=>{var t,l;return o().createElement(r,{config:e,onChange:t=>u(e.name,t,n),value:null!==(l=null===(t=i[n])||void 0===t?void 0:t[e.name])&&void 0!==l?l:"",index:n})})),o().createElement("div",{className:"remove-wrapper"},o().createElement("button",{className:"remove-button cyclops-button",onClick:e=>(e=>c(i.filter(((n,t)=>t!==e))))(n)},"Elimina #",n+1))))),o().createElement("button",{className:"add-button cyclops-button",onClick:e=>c([...i,""])},"Aggiungi nuovo"))}},353:function(e,n,t){t.d(n,{j:function(){return c}});var l=t(196),o=t.n(l),a=t(609),r=t(912);const c=e=>{const{value:n,placeholder:t,onChange:l,label:c=""}=e,i=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t}(e,["value","placeholder","onChange","label"]);return o().createElement("div",{className:"CyclopsCheckbox"},o().createElement(r.n,{label:""},o().createElement(a.CheckboxControl,Object.assign({checked:n,label:c,onChange:l},i))))}},124:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(196),o=t.n(l),a=t(609),r=t(912);const c=e=>{var n,t;const{value:l,customAttributes:c,onChange:i,label:s=""}=e;return o().createElement(r.n,{label:s},o().createElement("br",null),o().createElement(a.ColorPalette,{colors:null!==(n=null==c?void 0:c.colors)&&void 0!==n?n:[],value:l,disableCustomColors:null!==(t=null==c?void 0:c.customColors)&&void 0!==t&&t,onChange:i}))}},836:function(e,n,t){t.d(n,{s:function(){return c}});var l=t(196),o=t.n(l),a=t(175),r=t(912);const c=e=>{var n;const{value:t,placeholder:l,onChange:c,label:i=""}=e,s=t&&""!==(null==t?void 0:t.href)?`<a href="${null==t?void 0:t.href}">${null==t?void 0:t.text}</a>`:null!==(n=null==t?void 0:t.text)&&void 0!==n?n:"";return o().createElement("div",{className:"CyclopsCta"},o().createElement(r.n,{label:i},o().createElement(a.RichText,{value:s,"aria-label":"Button text",placeholder:l||"Add textâ€¦",inlineToolbar:!0,className:"wp-block-button__link",onChange:e=>{var n,t;const l=(new DOMParser).parseFromString(e,"text/html").body.querySelector("a"),o=null!==(n=null==l?void 0:l.innerText)&&void 0!==n?n:e,a=null!==(t=null==l?void 0:l.getAttribute("href"))&&void 0!==t?t:"";c({href:a,text:o})}})))}},585:function(e,n,t){t.d(n,{b:function(){return r}});var l=t(196),o=t.n(l),a=t(912);const r=e=>{const{label:n="",value:t,onChange:l}=e;return o().createElement(a.n,{label:n})}},759:function(e,n,t){t.d(n,{Ji:function(){return l.J},ji:function(){return o.j},Zw:function(){return a.Z},sK:function(){return r.s},bJ:function(){return c.b},xr:function(){return i.x},uh:function(){return s.u},n:function(){return u.n},mg:function(){return d.m},nv:function(){return v.n},OP:function(){return m.O},UK:function(){return p.U}});var l=t(568),o=t(353),a=t(124),r=t(836),c=t(585),i=t(329),s=t(989),u=t(394),d=t(289),v=t(903),m=t(686),p=t(546);t(912)},329:function(e,n,t){t.d(n,{x:function(){return c}});var l=t(196),o=t.n(l),a=t(912),r=t(818);const c=e=>{const{value:n,onChange:t,label:c="",customAttributes:i}=e,s=(0,r.useSelect)((e=>{var n,t,l,o,a;const r=null!==(n=null==i?void 0:i.postType)&&void 0!==n?n:"posts",c="user"===r?"root":"postType",s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},!!(null==i?void 0:i.categories)&&{[null!==(t=null==i?void 0:i.categoriesName)&&void 0!==t?t:"categories"]:null==i?void 0:i.categories}),!!(null==i?void 0:i.perPage)&&{per_page:null==i?void 0:i.perPage}),!!(null==i?void 0:i.include)&&{include:null==i?void 0:i.include}),!!(null==i?void 0:i.exclude)&&{exclude:null==i?void 0:i.exclude}),!!(null==i?void 0:i.metaField)&&{metaKey:null===(l=null==i?void 0:i.metaField)||void 0===l?void 0:l.key,metaValue:null===(o=null==i?void 0:i.metaField)||void 0===o?void 0:o.value,metaCompare:null===(a=null==i?void 0:i.metaField)||void 0===a?void 0:a.compare});return e("core").getEntityRecords(c,r,s)}),[]);return(0,l.useEffect)((()=>{(null==s?void 0:s.length)&&t(JSON.stringify(s.map((e=>e.id))))}),[s]),o().createElement("div",{className:"CyclopsLastTypes"},o().createElement(a.n,{label:c},(null==s?void 0:s.length)>0&&o().createElement("ul",{className:"list-wrapper"},s.map((e=>{var n;return o().createElement("li",{className:"list-item"},null===(n=e.title)||void 0===n?void 0:n.rendered)})))))}},989:function(e,n,t){t.d(n,{u:function(){return r}});var l=t(196),o=t.n(l),a=t(175);const r=e=>{const{label:n="",onChange:t,value:r,placeholder:c}=e,{value:{id:i}}=e,s=(0,l.useMemo)((()=>!!i),[i]);return o().createElement("div",{className:"CyclopsImage"},!s&&o().createElement(a.MediaPlaceholder,{onSelect:t,allowedTypes:["image"],multiple:!1,labels:{title:null!=n?n:"The Image"},value:e.value,addToGallery:!0}),s&&o().createElement("div",null,o().createElement("div",{className:"wf-media-preview"},o().createElement("img",{src:e.value.url,alt:e.value.alt}),o().createElement("button",{className:"remove-button",type:"button",onClick:n=>e.onChange({})}))))}},394:function(e,n,t){t.d(n,{n:function(){return c}});var l=t(196),o=t.n(l),a=t(609),r=t(912);const c=e=>{var n;const{value:t,onChange:c,label:i="",customAttributes:s}=e,u=null!==(n=null==s?void 0:s.options)&&void 0!==n?n:[],d=null==u?void 0:u.map((e=>{var n;return null!==(n=null==e?void 0:e.label)&&void 0!==n?n:""})),[v,m]=(0,l.useState)([]),[p,f]=(0,l.useState)([]);(0,l.useEffect)((()=>{const e=(null==t?void 0:t.length)?JSON.parse(t):[];if(e.length<=0)return;let n=[],l=[];e.forEach((e=>{const t=u.find((n=>+n.value==+e));t&&(n=[...n,t.label],l=[...l,t])})),f(n),m(l)}),[]);const b=e=>null==u?void 0:u.find((n=>n.label.toLowerCase()===e.toString().toLowerCase()));return(0,l.useEffect)((()=>{c(JSON.stringify(v.map((e=>e.value))))}),[v]),o().createElement("div",{className:"CyclopsMultiSelect"},o().createElement(r.n,{label:i},o().createElement(a.FormTokenField,{value:p,suggestions:d,onChange:e=>(e=>{let n=[];e.forEach((e=>{const t=b(e);t&&(n=[...n,t])})),m(n),f(e)})(e),__experimentalValidateInput:e=>!!b(e)})))}},546:function(e,n,t){t.d(n,{U:function(){return c}});var l=t(196),o=t.n(l),a=t(175),r=t(912);const c=e=>{const{value:n,placeholder:t,onChange:l,label:c=""}=e;return o().createElement("div",{className:"CyclopsRichText"},o().createElement(r.n,{label:c},o().createElement(a.RichText,{value:n,placeholder:t,onChange:l})))}},289:function(e,n,t){t.d(n,{m:function(){return c}});var l=t(196),o=t.n(l),a=t(609),r=t(912);const c=e=>{var n,t,l;const{value:c,customAttributes:i,onChange:s,label:u=""}=e;return o().createElement("div",{className:"CyclopsSelect"},o().createElement(r.n,{label:u},o().createElement(a.SelectControl,{label:null!==(n=null==i?void 0:i.placeholder)&&void 0!==n?n:"",value:c,options:null!==(t=null==i?void 0:i.options)&&void 0!==t?t:[],multiple:null!==(l=null==i?void 0:i.multiple)&&void 0!==l&&l,onChange:s})))}},903:function(e,n,t){t.d(n,{n:function(){return c}});var l=t(196),o=t.n(l),a=t(175),r=t(912);const c=e=>{const{label:n="",onChange:t,value:l,placeholder:c}=e;return o().createElement("div",{className:"CyclopsText"},o().createElement(r.n,{label:n},o().createElement(a.PlainText,{onChange:t,value:l,placeholder:c})))}},686:function(e,n,t){t.d(n,{O:function(){return c}});var l=t(196),o=t.n(l),a=t(912),r=t(818);const c=e=>{var n;const{value:t,onChange:c,label:i="",customAttributes:s}=e,[u,d]=(0,l.useState)(""),[v,m]=(0,l.useState)([]),[p,f]=(0,l.useState)(!1),b=null!==(n=null==s?void 0:s.postType)&&void 0!==n?n:"posts",g="user"===b?"root":"postType",h=(null==t?void 0:t.length)?JSON.parse(t):[],E=(0,r.useSelect)((e=>{const n=Object.assign({search:u},!!(null==s?void 0:s.role)&&{roles:null==s?void 0:s.role});return e("core").getEntityRecords(g,b,n)}),[u]),y=(0,r.useSelect)((e=>e("core").getEntityRecords(g,b,{include:null!=h?h:[]})),[p]);return(0,l.useEffect)((()=>{p&&(null==y?void 0:y.length)&&(y.sort(((e,n)=>h.indexOf(e.id)-h.indexOf(n.id))),m(null!=y?y:[]))}),[y]),(0,l.useEffect)((()=>{!p&&(null==E?void 0:E.length)&&f(!0)}),[E]),(0,l.useEffect)((()=>{p&&c(JSON.stringify(v.map((e=>e.id))))}),[v]),o().createElement("div",{className:"CyclopsTypesSelection"},o().createElement(a.n,{label:i},o().createElement("div",{className:"TypesSelection"},o().createElement("div",{className:"type-selection-wrapper"},o().createElement("div",{className:"type-selection-search-wrapper"},o().createElement("input",{type:"text",autoComplete:"off",className:"type-selection-search-input",name:"search",placeholder:"Search...",onChange:e=>d(e.currentTarget.value)}),(null==E?void 0:E.length)>0&&o().createElement("ul",{className:"type-selection-results",style:{listStyle:"none"}},E.map((e=>{var n,t;return o().createElement("li",{className:"type-selection-result"},o().createElement("button",{className:h.includes(e.id)?"--selected":"",onClick:()=>{var n;n=e,v.some((e=>e.id===n.id))?m(v.filter((e=>e.id!==n.id))):m([...v,n])}},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name))}))),(!E||0===(null==E?void 0:E.length))&&o().createElement("div",{className:"type-selection-no-result"},"No results found")),o().createElement("div",{className:"type-selection-selection-wrapper"},(null==v?void 0:v.length)>0&&v.map((e=>{var n,t;return o().createElement("span",{className:"type-selection-selection"},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name)})))))))}},912:function(e,n,t){t.d(n,{n:function(){return a}});var l=t(196),o=t.n(l);const a=e=>{const{label:n,children:t}=e;return o().createElement("div",null,!!(null==n?void 0:n.length)&&o().createElement("label",{className:"field-label"},n),!!t&&t)}},187:function(e,n,t){t.d(n,{k:function(){return c}});var l=t(196),o=t.n(l),a=t(609),r=t(162);const c=e=>{const{label:n="",fields:t=[],onChangeColor:l,setAttributes:c,attributes:i}=e;return o().createElement(a.Panel,null,o().createElement(a.PanelBody,{title:n,initialOpen:!0},t.map((e=>{var n;return o().createElement(a.PanelRow,null,o().createElement(r.S,{config:Object.assign({},e),onChange:n=>{"colors"===e.field&&l(n),c(Object.assign(Object.assign({},i),{[e.name]:n}))},value:null!==(n=i[e.name])&&void 0!==n?n:""}))}))))}},196:function(e){e.exports=window.React},175:function(e){e.exports=window.wp.blockEditor},981:function(e){e.exports=window.wp.blocks},609:function(e){e.exports=window.wp.components},818:function(e){e.exports=window.wp.data}},u={};function d(e){var n=u[e];if(void 0!==n)return n.exports;var t=u[e]={exports:{}};return s[e](t,t.exports,d),t.exports}d.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(n,{a:n}),n},d.d=function(e,n){for(var t in n)d.o(n,t)&&!d.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},d.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l=d(196),o=d.n(l),a=d(981),r=d(175),c=d(116),i=d(187),null===(t=null===(n=null===(e=null===window||void 0===window?void 0:window.CY)||void 0===e?void 0:e.blocks)||void 0===n?void 0:n.forEach)||void 0===t||t.call(n,(e=>{(e=>{var n;const{name:t,fields:s,blocksControl:u}=e,d=s.reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),v=u.flatMap((e=>e.fields)).reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),m=Object.assign(Object.assign({},d),v);(0,a.registerBlockType)(e.blockName,{title:e.name,category:"layout",icon:"smiley",supports:{html:!0},parent:null!==(n=e.parent)&&void 0!==n?n:null,attributes:m,edit:n=>{var a;const s=e.blocksControl.some((({fields:e})=>e.some((e=>"colors"===e.field)))),[u,d]=(0,l.useState)(s?"transparent":""),v=(0,r.useBlockProps)({className:e.blockName});(0,l.useEffect)((()=>{for(const[e,t]of Object.entries(n.attributes))if("backgroundColor"===e){d(t);break}}),[]);const m=e=>{d(e)};return o().createElement("div",Object.assign({},v),o().createElement(c.q,Object.assign({blockName:t,config:e,backgroundColor:u},n)),o().createElement(r.InspectorControls,null,e.blocksControl.map((({title:e,fields:t})=>o().createElement(i.k,Object.assign({fields:t,label:e,onChangeColor:m},n))))),(null===(a=e.innerBlocks)||void 0===a?void 0:a.length)&&o().createElement("div",{className:"inner-blocks"},"Add fields ",o().createElement(r.InnerBlocks,{allowedBlocks:e.innerBlocks})))},save:n=>{var t;return o().createElement(o().Fragment,null,n,(null===(t=e.innerBlocks)||void 0===t?void 0:t.length)&&o().createElement(r.InnerBlocks.Content,null))}})})(e)}))}();
//# sourceMappingURL=index.js.map