!function(){"use strict";var e,n,t,l,o,r,a,c,i,u={162:function(e,n,t){t.d(n,{S:function(){return c}});var l=t(196),o=t.n(l),r=t(759);const a={text:r.nv,media:r.uh,richText:r.UK,datePicker:r.bJ,cta:r.sK,colors:r.Zw,select:r.mg,itemsSelection:r.OP,lastTypes:r.xr},c=e=>{var n,t,c,i,u;const{config:s,value:d,onChange:v}=e,m=(0,l.useMemo)((()=>{var e,n;return null!==(n=a[null!==(e=s.field)&&void 0!==e?e:"text"])&&void 0!==n?n:a.text}),[null==s?void 0:s.type]);return o().createElement("div",{className:"field-wrapper",style:{flex:"0 1 "+(null!==(n=s.width)&&void 0!==n?n:100)+"%"}},(null===(t=null==s?void 0:s.children)||void 0===t?void 0:t.length)?o().createElement("div",null,o().createElement(r.Ji,{config:s,onChange:v,value:d,customAttributes:null!==(u=s.attributes)&&void 0!==u?u:{}})):o().createElement(m,{label:null!==(c=s.label)&&void 0!==c?c:s.name,onChange:v,value:d,placeholder:"",customAttributes:null!==(i=s.attributes)&&void 0!==i?i:{}}))}},116:function(e,n,t){t.d(n,{q:function(){return a}});var l=t(196),o=t.n(l),r=t(162);const a=e=>{const{blockName:n="",children:t,config:{fields:l=[]},setAttributes:a,backgroundColor:c,attributes:i}=e;return o().createElement("div",{className:"BlockWrapper"},!!(null==n?void 0:n.length)&&o().createElement("h3",{className:"title"},n),"transparent"!==c&&o().createElement("div",{className:"background-wrapper"},"Colore di sfondo: ",o().createElement("span",{className:"background-color",style:{backgroundColor:c}})),!!t&&o().createElement("div",{className:"BlockWrapper__children"},t),o().createElement("div",{className:"BlockWrapper__content",style:{display:"flex",flexFlow:"row wrap"}},l.map((e=>{var n;return o().createElement(r.S,{config:e,onChange:n=>a(Object.assign(Object.assign({},i),{[e.name]:n})),value:null!==(n=i[e.name])&&void 0!==n?n:""})}))))}},568:function(e,n,t){t.d(n,{J:function(){return c}});var l=t(196),o=t.n(l),r=t(162);const a=e=>{const{config:n,onChange:t,index:l,value:a}=e;return o().createElement(r.S,{config:n,onChange:e=>t(e,l),value:a})},c=e=>{const n=e.config,t=void 0===n?{}:n,{children:r=[]}=t,c=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t}(t,["children"]),{onChange:i=(()=>null),value:u=[]}=e,s=(0,l.useMemo)((()=>null==u?void 0:u.length),[u]),d=(e,n,t)=>{const l=[...u];return l[t]=Object.assign(Object.assign({},l[t]),{[e]:n}),i(l)};return console.log({componentProps:c}),o().createElement("div",null,o().createElement("div",null,"Count: ",s),Array.from({length:s},(e=>r)).map(((e,n)=>o().createElement("div",{className:"cyclops-addable-item"},e.map((e=>{var t,l;return o().createElement(a,{config:e,onChange:t=>d(e.name,t,n),value:null!==(l=null===(t=u[n])||void 0===t?void 0:t[e.name])&&void 0!==l?l:"",index:n})})),o().createElement("button",{className:"cyclops-button",onClick:e=>(e=>i(u.filter(((n,t)=>t!==e))))(n)},"Remove #",n)))),o().createElement("button",{className:"cyclops-button",onClick:e=>i([...u,""])},"Aggiungi nuovo"))}},124:function(e,n,t){t.d(n,{Z:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(912);const c=e=>{var n,t;const{value:l,customAttributes:c,onChange:i,label:u=""}=e;return o().createElement(a.n,{label:u},o().createElement("br",null),o().createElement(r.ColorPalette,{colors:null!==(n=null==c?void 0:c.colors)&&void 0!==n?n:[],value:l,disableCustomColors:null!==(t=null==c?void 0:c.customColors)&&void 0!==t&&t,onChange:i}))}},836:function(e,n,t){t.d(n,{s:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{var n;const{value:t,placeholder:l,onChange:c,label:i=""}=e,u=t&&""!==(null==t?void 0:t.href)?`<a href="${null==t?void 0:t.href}">${null==t?void 0:t.text}</a>`:null!==(n=null==t?void 0:t.text)&&void 0!==n?n:"";return o().createElement(a.n,{label:i},o().createElement(r.RichText,{value:u,"aria-label":"Button text",placeholder:l||"Add textâ€¦",inlineToolbar:!0,className:"wp-block-button__link",onChange:e=>{var n,t;const l=(new DOMParser).parseFromString(e,"text/html").body.querySelector("a"),o=null!==(n=null==l?void 0:l.innerText)&&void 0!==n?n:e,r=null!==(t=null==l?void 0:l.getAttribute("href"))&&void 0!==t?t:"";c({href:r,text:o})}}))}},585:function(e,n,t){t.d(n,{b:function(){return a}});var l=t(196),o=t.n(l),r=t(912);const a=e=>{const{label:n="",value:t,onChange:l}=e;return o().createElement(r.n,{label:n})}},759:function(e,n,t){t.d(n,{Ji:function(){return l.J},Zw:function(){return o.Z},sK:function(){return r.s},bJ:function(){return a.b},xr:function(){return c.x},uh:function(){return i.u},mg:function(){return u.m},nv:function(){return s.n},OP:function(){return d.O},UK:function(){return v.U}});var l=t(568),o=t(124),r=t(836),a=t(585),c=t(329),i=t(989),u=t(289),s=t(903),d=t(686),v=t(546);t(912)},329:function(e,n,t){t.d(n,{x:function(){return c}});var l=t(196),o=t.n(l),r=t(912),a=t(818);const c=e=>{const{value:n,onChange:t,label:c="",customAttributes:i}=e,u=(0,a.useSelect)((e=>{var n,t,l,o,r;const a=null!==(n=null==i?void 0:i.postType)&&void 0!==n?n:"posts",c="user"===a?"root":"postType",u=Object.assign(Object.assign(Object.assign({},!!(null==i?void 0:i.categories)&&{[null!==(t=null==i?void 0:i.categoriesName)&&void 0!==t?t:"categories"]:null==i?void 0:i.categories}),!!(null==i?void 0:i.perPage)&&{per_page:null==i?void 0:i.perPage}),!!(null==i?void 0:i.metaField)&&{metaKey:null===(l=null==i?void 0:i.metaField)||void 0===l?void 0:l.key,metaValue:null===(o=null==i?void 0:i.metaField)||void 0===o?void 0:o.value,metaCompare:null===(r=null==i?void 0:i.metaField)||void 0===r?void 0:r.compare});return e("core").getEntityRecords(c,a,u)}),[]);return(0,l.useEffect)((()=>{(null==u?void 0:u.length)&&t(JSON.stringify(u.map((e=>e.id))))}),[u]),o().createElement(r.n,{label:c},(null==u?void 0:u.length)>0&&o().createElement("ul",null,u.map((e=>{var n;return o().createElement("li",null,null===(n=e.title)||void 0===n?void 0:n.rendered)}))))}},989:function(e,n,t){t.d(n,{u:function(){return a}});var l=t(196),o=t.n(l),r=t(175);const a=e=>{const{label:n="",onChange:t,value:a,placeholder:c}=e,{value:{id:i}}=e,u=(0,l.useMemo)((()=>!!i),[i]);return o().createElement("div",null,!u&&o().createElement(r.MediaPlaceholder,{onSelect:t,allowedTypes:["image"],multiple:!1,labels:{title:"The Image"},value:e.value,addToGallery:!0}),u&&o().createElement("div",null,o().createElement("div",{className:"wf-media-preview"},o().createElement("img",{src:e.value.url,alt:e.value.alt})),o().createElement("div",null,o().createElement("button",{type:"button",onClick:n=>e.onChange({})},"Rimuovi Immagine"))))}},546:function(e,n,t){t.d(n,{U:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{const{value:n,placeholder:t,onChange:l,label:c=""}=e;return o().createElement(a.n,{label:c},o().createElement(r.RichText,{value:n,placeholder:t,onChange:l}))}},289:function(e,n,t){t.d(n,{m:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(912);const c=e=>{var n,t,l;const{value:c,customAttributes:i,onChange:u,label:s=""}=e;return o().createElement(a.n,{label:s},o().createElement("br",null),o().createElement(r.SelectControl,{label:null!==(n=null==i?void 0:i.placeholder)&&void 0!==n?n:"Select an option...",value:c,options:null!==(t=null==i?void 0:i.options)&&void 0!==t?t:[],multiple:null!==(l=null==i?void 0:i.multiple)&&void 0!==l&&l,onChange:u}))}},903:function(e,n,t){t.d(n,{n:function(){return c}});var l=t(196),o=t.n(l),r=t(175),a=t(912);const c=e=>{const{label:n="",onChange:t,value:l,placeholder:c}=e;return o().createElement(a.n,{label:n},o().createElement(r.PlainText,{onChange:t,value:l,placeholder:c}))}},686:function(e,n,t){t.d(n,{O:function(){return c}});var l=t(196),o=t.n(l),r=t(912),a=t(818);const c=e=>{const{value:n,onChange:t,label:c="",customAttributes:i}=e,[u,s]=(0,l.useState)(""),[d,v]=(0,l.useState)([]),[m,p]=(0,l.useState)(!1),f=(0,a.useSelect)((e=>{var n;const t=null!==(n=null==i?void 0:i.postType)&&void 0!==n?n:"posts",l="user"===t?"root":"postType",o=Object.assign({search:u},!!(null==i?void 0:i.role)&&{role:null==i?void 0:i.role});return e("core").getEntityRecords(l,t,o)}),[u]),b=(null==n?void 0:n.length)?JSON.parse(n):[];return(0,l.useEffect)((()=>{if(m||!(null==f?void 0:f.length))return;let e=[];b.forEach((n=>{var t;return e=[...e,null===(t=f.filter((e=>+e.id==+n)))||void 0===t?void 0:t[0]]})),v(e),p(!0)}),[f]),(0,l.useEffect)((()=>{m&&t(JSON.stringify(d.map((e=>e.id))))}),[d]),o().createElement(r.n,{label:c},o().createElement("div",{className:"TypesSelection"},o().createElement("div",{className:"type-selection-wrapper"},o().createElement("div",{className:"type-selection-search-wrapper"},o().createElement("input",{type:"text",autoComplete:"off",className:"type-selection-search-input",name:"search",placeholder:"Search...",onChange:e=>s(e.currentTarget.value)}),(null==f?void 0:f.length)>0&&o().createElement("ul",{className:"type-selection-results",style:{listStyle:"none"}},f.map((e=>{var n,t;return o().createElement("li",{className:"type-selection-result"},o().createElement("button",{className:b.includes(e.id)?"--selected":"",onClick:()=>{var n;n=e,d.some((e=>e.id===n.id))?v(d.filter((e=>e.id!==n.id))):v([...d,n])}},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name))}))),(!f||0===(null==f?void 0:f.length))&&o().createElement("div",{className:"type-selection-no-result"},"No results found")),o().createElement("div",{className:"type-selection-selection-wrapper"},d.length>0&&d.map((e=>{var n,t;return o().createElement("span",{className:"type-selection-selection"},null!==(t=null===(n=e.title)||void 0===n?void 0:n.rendered)&&void 0!==t?t:e.name)}))))))}},912:function(e,n,t){t.d(n,{n:function(){return r}});var l=t(196),o=t.n(l);const r=e=>{const{label:n,children:t}=e;return o().createElement("div",null,!!(null==n?void 0:n.length)&&o().createElement("label",{className:"field-label"},n),!!t&&t)}},187:function(e,n,t){t.d(n,{k:function(){return c}});var l=t(196),o=t.n(l),r=t(609),a=t(162);const c=e=>{var n;const{field:t,onChangeColor:l,setAttributes:c,attributes:i}=e;return o().createElement(r.Panel,null,o().createElement(r.PanelBody,{title:t.label,initialOpen:!0},o().createElement(r.PanelRow,null,o().createElement(a.S,{config:Object.assign(Object.assign({},t),{label:""}),onChange:e=>{"colors"===t.field&&l(e),c(Object.assign(Object.assign({},i),{[t.name]:e}))},value:null!==(n=i[t.name])&&void 0!==n?n:""}))))}},196:function(e){e.exports=window.React},175:function(e){e.exports=window.wp.blockEditor},981:function(e){e.exports=window.wp.blocks},609:function(e){e.exports=window.wp.components},818:function(e){e.exports=window.wp.data}},s={};function d(e){var n=s[e];if(void 0!==n)return n.exports;var t=s[e]={exports:{}};return u[e](t,t.exports,d),t.exports}d.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(n,{a:n}),n},d.d=function(e,n){for(var t in n)d.o(n,t)&&!d.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},d.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l=d(196),o=d.n(l),r=d(981),a=d(175),c=d(116),i=d(187),null===(t=null===(n=null===(e=null===window||void 0===window?void 0:window.CY)||void 0===e?void 0:e.blocks)||void 0===n?void 0:n.forEach)||void 0===t||t.call(n,(e=>{const n=(e=>{var n;const{name:t,fields:u,blocksControl:s}=e,d=u.reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),v=s.reduce(((e,{type:n,name:t})=>Object.assign(Object.assign({},e),{[t]:{type:n}})),{}),m=Object.assign(Object.assign({},d),v);return(0,r.registerBlockType)(e.blockName,{title:e.name,category:"layout",icon:"smiley",supports:{html:!0},parent:null!==(n=e.parent)&&void 0!==n?n:null,attributes:m,edit:n=>{var r;const[u,s]=(0,l.useState)("transparent"),d=(0,a.useBlockProps)({className:e.blockName});(0,l.useEffect)((()=>{for(const[e,t]of Object.entries(n.attributes))if("backgroundColor"===e){s(t);break}}),[]);const v=e=>{s(e)};return o().createElement("div",Object.assign({},d),o().createElement(c.q,Object.assign({blockName:t,config:e,backgroundColor:u},n)),o().createElement(a.InspectorControls,null,e.blocksControl.map((e=>o().createElement(i.k,Object.assign({field:e,onChangeColor:v},n))))),(null===(r=e.innerBlocks)||void 0===r?void 0:r.length)&&o().createElement("div",{className:"inner-blocks"},"Add fields ",o().createElement(a.InnerBlocks,{allowedBlocks:e.innerBlocks})))},save:n=>{var t;return o().createElement(o().Fragment,null,n,(null===(t=e.innerBlocks)||void 0===t?void 0:t.length)&&o().createElement(a.InnerBlocks.Content,null))}})})(e);console.log({block:n})}))}();
//# sourceMappingURL=index.js.map