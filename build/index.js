!function(e){var t={};function n(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(l,a,function(t){return e[t]}.bind(null,a));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n(0),a=n.n(l);const r=e=>{const{label:t,children:n}=e;return a.a.createElement("div",null,!!(null==t?void 0:t.length)&&a.a.createElement("label",{className:"field-label"},t),!!n&&n)}},function(e,t){e.exports=window.wp.blockEditor},function(e,t,n){"use strict";var l=n(7);n.d(t,"a",(function(){return l.a}));var a=n(8);n.d(t,"b",(function(){return a.a}));var r=n(9);n.d(t,"c",(function(){return r.a}));var o=n(10);n.d(t,"d",(function(){return o.a}));var c=n(11);n.d(t,"e",(function(){return c.a}));var i=n(12);n.d(t,"f",(function(){return i.a}));var u=n(13);n.d(t,"h",(function(){return u.a}));var s=n(14);n.d(t,"i",(function(){return s.a}));var d=n(15);n.d(t,"j",(function(){return d.a}));var v=n(16);n.d(t,"g",(function(){return v.a})),n(1)},function(e,t){e.exports=window.wp.components},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(3);const o={text:r.i,media:r.f,richText:r.g,datePicker:r.d,cta:r.c,colors:r.b,select:r.h,itemsSelection:r.j,lastTypes:r.e},c=e=>{var t,n,c,i,u;const{config:s,value:d,onChange:v}=e,m=Object(l.useMemo)(()=>{var e,t;return null!==(t=o[null!==(e=s.field)&&void 0!==e?e:"text"])&&void 0!==t?t:o.text},[null==s?void 0:s.type]);return a.a.createElement("div",{className:"field-wrapper",style:{flex:"0 1 "+(null!==(t=s.width)&&void 0!==t?t:100)+"%"}},(null===(n=null==s?void 0:s.children)||void 0===n?void 0:n.length)?a.a.createElement("div",null,a.a.createElement(r.a,{config:s,onChange:v,value:d,customAttributes:null!==(u=s.attributes)&&void 0!==u?u:{}})):a.a.createElement(m,{label:null!==(c=s.label)&&void 0!==c?c:s.name,onChange:v,value:d,placeholder:"",customAttributes:null!==(i=s.attributes)&&void 0!==i?i:{}}))}},function(e,t){e.exports=window.wp.data},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(5);const o=e=>{const{config:t,onChange:n,index:l,value:o}=e;return a.a.createElement(r.a,{config:t,onChange:e=>n(e,l),value:o})},c=e=>{const t=e.config,n=void 0===t?{}:t,{children:r=[]}=n,c=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n}(n,["children"]),{onChange:i=(()=>null),value:u=[]}=e,s=Object(l.useMemo)(()=>null==u?void 0:u.length,[u]),d=(e,t,n)=>{const l=[...u];return l[n]=Object.assign(Object.assign({},l[n]),{[e]:t}),i(l)};return console.log({componentProps:c}),a.a.createElement("div",null,a.a.createElement("div",null,"Count: ",s),Array.from({length:s},e=>r).map((e,t)=>a.a.createElement("div",{className:"cyclops-addable-item"},e.map(e=>{var n,l;return a.a.createElement(o,{config:e,onChange:n=>d(e.name,n,t),value:null!==(l=null===(n=u[t])||void 0===n?void 0:n[e.name])&&void 0!==l?l:"",index:t})}),a.a.createElement("button",{className:"cyclops-button",onClick:e=>(e=>i(u.filter((t,n)=>n!==e)))(t)},"Remove #",t))),a.a.createElement("button",{className:"cyclops-button",onClick:e=>i([...u,""])},"Aggiungi nuovo"))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(4),o=n(1);const c=e=>{var t,n;const{value:l,customAttributes:c,onChange:i,label:u=""}=e;return a.a.createElement(o.a,{label:u},a.a.createElement("br",null),a.a.createElement(r.ColorPalette,{colors:null!==(t=null==c?void 0:c.colors)&&void 0!==t?t:[],value:l,disableCustomColors:null!==(n=null==c?void 0:c.customColors)&&void 0!==n&&n,onChange:i}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(2),o=n(1);const c=e=>{const{value:t,placeholder:n,onChange:l,label:c=""}=e,i=!!t&&JSON.parse(t),u=i&&""!==(null==i?void 0:i.href)?`<a href="${null==i?void 0:i.href}">${null==i?void 0:i.text}</a>`:null==i?void 0:i.text;return a.a.createElement(o.a,{label:c},a.a.createElement(r.RichText,{value:u,"aria-label":"Button text",placeholder:n||"Add textâ€¦",inlineToolbar:!0,className:"wp-block-button__link",onChange:e=>{var t,n;const a=(new DOMParser).parseFromString(e,"text/html").body.querySelector("a"),r=null!==(t=null==a?void 0:a.innerText)&&void 0!==t?t:e,o=null!==(n=null==a?void 0:a.getAttribute("href"))&&void 0!==n?n:"";l(JSON.stringify({href:o,text:r}))}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n(0),a=n.n(l),r=n(1);const o=e=>{const{label:t="",value:n,onChange:l}=e;return a.a.createElement(r.a,{label:t})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(1),o=n(6);const c=e=>{const{value:t,onChange:n,label:c="",customAttributes:i}=e,u=Object(o.useSelect)(e=>{var t,n,l,a,r;const o=null!==(t=null==i?void 0:i.postType)&&void 0!==t?t:"posts",c="user"===o?"root":"postType",u=Object.assign(Object.assign(Object.assign({},!!(null==i?void 0:i.categories)&&{[null!==(n=null==i?void 0:i.categoriesName)&&void 0!==n?n:"categories"]:null==i?void 0:i.categories}),!!(null==i?void 0:i.perPage)&&{per_page:null==i?void 0:i.perPage}),!!(null==i?void 0:i.metaField)&&{metaKey:null===(l=null==i?void 0:i.metaField)||void 0===l?void 0:l.key,metaValue:null===(a=null==i?void 0:i.metaField)||void 0===a?void 0:a.value,metaCompare:null===(r=null==i?void 0:i.metaField)||void 0===r?void 0:r.compare});return e("core").getEntityRecords(c,o,u)},[]);return Object(l.useEffect)(()=>{(null==u?void 0:u.length)&&n(JSON.stringify(u.map(e=>e.id)))},[u]),a.a.createElement(r.a,{label:c},(null==u?void 0:u.length)>0&&a.a.createElement("ul",null,u.map(e=>{var t;return a.a.createElement("li",null,null===(t=e.title)||void 0===t?void 0:t.rendered)})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n(0),a=n.n(l),r=n(2);const o=e=>{const{label:t="",onChange:n,value:o,placeholder:c}=e,{value:{id:i}}=e,u=Object(l.useMemo)(()=>!!i,[i]);return a.a.createElement("div",null,!u&&a.a.createElement(r.MediaPlaceholder,{onSelect:n,allowedTypes:["image"],multiple:!1,labels:{title:"The Image"},value:e.value,addToGallery:!0}),u&&a.a.createElement("div",null,a.a.createElement("div",{className:"wf-media-preview"},a.a.createElement("img",{src:e.value.url,alt:e.value.alt})),a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:t=>e.onChange({})},"Rimuovi Immagine"))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(4),o=n(1);const c=e=>{var t,n,l;const{value:c,customAttributes:i,onChange:u,label:s=""}=e;return a.a.createElement(o.a,{label:s},a.a.createElement("br",null),a.a.createElement(r.SelectControl,{label:null!==(t=null==i?void 0:i.placeholder)&&void 0!==t?t:"Select an option...",value:c,options:null!==(n=null==i?void 0:i.options)&&void 0!==n?n:[],multiple:null!==(l=null==i?void 0:i.multiple)&&void 0!==l&&l,onChange:u}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(2),o=n(1);const c=e=>{const{label:t="",onChange:n,value:l,placeholder:c}=e;return a.a.createElement(o.a,{label:t},a.a.createElement(r.PlainText,{onChange:n,value:l,placeholder:c}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(1),o=n(6);const c=e=>{const{value:t,onChange:n,label:c="",customAttributes:i}=e,[u,s]=Object(l.useState)(""),[d,v]=Object(l.useState)([]),[m,p]=Object(l.useState)(!1),f=Object(o.useSelect)(e=>{var t;const n=null!==(t=null==i?void 0:i.postType)&&void 0!==t?t:"posts",l="user"===n?"root":"postType",a=Object.assign({search:u},!!(null==i?void 0:i.role)&&{role:null==i?void 0:i.role});return e("core").getEntityRecords(l,n,a)},[u]),b=(null==t?void 0:t.length)?JSON.parse(t):[];return Object(l.useEffect)(()=>{if(m||!(null==f?void 0:f.length))return;let e=[];b.forEach(t=>{var n;return e=[...e,null===(n=f.filter(e=>+e.id==+t))||void 0===n?void 0:n[0]]}),v(e),p(!0)},[f]),Object(l.useEffect)(()=>{m&&n(JSON.stringify(d.map(e=>e.id)))},[d]),a.a.createElement(r.a,{label:c},a.a.createElement("div",{className:"TypesSelection"},a.a.createElement("div",{className:"type-selection-wrapper"},a.a.createElement("div",{className:"type-selection-search-wrapper"},a.a.createElement("input",{type:"text",autoComplete:"off",className:"type-selection-search-input",name:"search",placeholder:"Search...",onChange:e=>s(e.currentTarget.value)}),(null==f?void 0:f.length)>0&&a.a.createElement("ul",{className:"type-selection-results",style:{listStyle:"none"}},f.map(e=>{var t,n;return a.a.createElement("li",{className:"type-selection-result"},a.a.createElement("button",{className:b.includes(e.id)?"--selected":"",onClick:()=>{var t;t=e,d.some(e=>e.id===t.id)?v(d.filter(e=>e.id!==t.id)):v([...d,t])}},null!==(n=null===(t=e.title)||void 0===t?void 0:t.rendered)&&void 0!==n?n:`${e.first_name} ${e.last_name}`))})),(!f||0===(null==f?void 0:f.length))&&a.a.createElement("div",{className:"type-selection-no-result"},"No results found")),a.a.createElement("div",{className:"type-selection-selection-wrapper"},d.length>0&&d.map(e=>{var t,n;return a.a.createElement("span",{className:"type-selection-selection"},null!==(n=null===(t=e.title)||void 0===t?void 0:t.rendered)&&void 0!==n?n:`${e.first_name} ${e.last_name}`)})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(2),o=n(1);const c=e=>{const{value:t,placeholder:n,onChange:l,label:c=""}=e;return a.a.createElement(o.a,{label:c},a.a.createElement(r.RichText,{value:t,placeholder:n,onChange:l}))}},function(e,t){e.exports=window.wp.blocks},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var l=n(0),a=n.n(l),r=n(5);const o=e=>{const{blockName:t="",children:n,config:{fields:l=[]},setAttributes:o,backgroundColor:c,attributes:i}=e;return a.a.createElement("div",{className:"BlockWrapper"},!!(null==t?void 0:t.length)&&a.a.createElement("h3",{className:"title"},t),"transparent"!==c&&a.a.createElement("div",{className:"background-wrapper"},"Colore di sfondo: ",a.a.createElement("span",{className:"background-color",style:{backgroundColor:c}})),!!n&&a.a.createElement("div",{className:"BlockWrapper__children"},n),a.a.createElement("div",{className:"BlockWrapper__content",style:{display:"flex",flexFlow:"row wrap"}},l.map(e=>{var t;return a.a.createElement(r.a,{config:e,onChange:t=>o(Object.assign(Object.assign({},i),{[e.name]:t})),value:null!==(t=i[e.name])&&void 0!==t?t:""})})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n(0),a=n.n(l),r=n(4),o=n(5);const c=e=>{var t;const{field:n,onChangeColor:l,setAttributes:c,attributes:i}=e;return a.a.createElement(r.Panel,null,a.a.createElement(r.PanelBody,{title:n.label,initialOpen:!0},a.a.createElement(r.PanelRow,null,a.a.createElement(o.a,{config:Object.assign(Object.assign({},n),{label:""}),onChange:e=>{"colors"===n.field&&l(e),c(Object.assign(Object.assign({},i),{[n.name]:e}))},value:null!==(t=i[n.name])&&void 0!==t?t:""}))))}},function(e,t,n){"use strict";n.r(t);var l,a,r,o=n(0),c=n.n(o),i=n(17),u=n(2),s=n(18),d=n(19);n(21),null===(r=null===(a=null===(l=null===window||void 0===window?void 0:window.CY)||void 0===l?void 0:l.blocks)||void 0===a?void 0:a.forEach)||void 0===r||r.call(a,e=>{const t=(e=>{var t;const{name:n,fields:l,blocksControl:a}=e,r=l.reduce((e,{type:t,name:n})=>Object.assign(Object.assign({},e),{[n]:{type:t}}),{}),v=a.reduce((e,{type:t,name:n})=>Object.assign(Object.assign({},e),{[n]:{type:t}}),{}),m=Object.assign(Object.assign({},r),v);return Object(i.registerBlockType)(e.blockName,{title:e.name,category:"layout",icon:"smiley",supports:{html:!0},parent:null!==(t=e.parent)&&void 0!==t?t:null,attributes:m,edit:t=>{var l;const[a,r]=Object(o.useState)("transparent"),i=Object(u.useBlockProps)({className:e.blockName});Object(o.useEffect)(()=>{for(const[e,n]of Object.entries(t.attributes))if("backgroundColor"===e){r(n);break}},[]);const v=e=>{r(e)};return c.a.createElement("div",Object.assign({},i),c.a.createElement(s.a,Object.assign({blockName:n,config:e,backgroundColor:a},t)),c.a.createElement(u.InspectorControls,null,e.blocksControl.map(e=>c.a.createElement(d.a,Object.assign({field:e,onChangeColor:v},t)))),(null===(l=e.innerBlocks)||void 0===l?void 0:l.length)&&c.a.createElement("div",{className:"inner-blocks"},"Add fields ",c.a.createElement(u.InnerBlocks,{allowedBlocks:e.innerBlocks})))},save:t=>{var n;return c.a.createElement(c.a.Fragment,null,t,(null===(n=e.innerBlocks)||void 0===n?void 0:n.length)&&c.a.createElement(u.InnerBlocks.Content,null))}})})(e);console.log({block:t})})},function(e,t,n){}]);
//# sourceMappingURL=index.js.map