{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///./blocks/components/fields/wrapper.tsx","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///./blocks/components/fields/index.ts","webpack:///external [\"wp\",\"components\"]","webpack:///./blocks/components/block-field.tsx","webpack:///external [\"wp\",\"data\"]","webpack:///./blocks/components/fields/addable.tsx","webpack:///./blocks/components/fields/colors-palette.tsx","webpack:///./blocks/components/fields/cta.tsx","webpack:///./blocks/components/fields/date-picker.tsx","webpack:///./blocks/components/fields/last-types.tsx","webpack:///./blocks/components/fields/media.tsx","webpack:///./blocks/components/fields/select.tsx","webpack:///./blocks/components/fields/text.tsx","webpack:///./blocks/components/fields/types-selection.tsx","webpack:///./blocks/components/fields/rich-text.tsx","webpack:///external [\"wp\",\"blocks\"]","webpack:///./blocks/components/block-wrapper.tsx","webpack:///./blocks/components/panel-wrapper.tsx","webpack:///./blocks/index.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","FieldWrapper","props","label","children","createElement","length","className","FieldsDictionary","BlockField","_a","_b","_c","_d","_e","config","onChange","DynamicField","field","text","type","style","flex","width","customAttributes","attributes","placeholder","AddableFieldItem","index","AddableField","fields","componentProps","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","count","updateChild","changes","newValues","assign","console","log","Array","from","_","map","onClick","filter","removeItem","ColorsPaletteField","colors","disableCustomColors","customColors","CtaField","buttonObject","JSON","parse","html","href","inlineToolbar","$link","DOMParser","parseFromString","body","querySelector","innerText","getAttribute","stringify","DatePickerField","LastTypesField","posts","select","postType","source","query","categories","categoriesName","perPage","per_page","metaField","metaKey","metaValue","metaCompare","compare","getEntityRecords","post","id","title","rendered","MediaField","currentSelectedId","isMediaSeleced","onSelect","allowedTypes","multiple","labels","addToGallery","src","url","alt","SelectField","options","TextField","TypesSelectionField","searchKey","setSearchKey","selection","setSelection","firstLoaded","setFirstLoaded","search","role","values","selectedValues","forEach","autoComplete","currentTarget","listStyle","includes","selectedItem","some","item","first_name","last_name","RichTextField","BlockWrapper","blockName","setAttributes","backgroundColor","display","flexFlow","content","PanelWrapper","onChangeColor","initialOpen","CY","blocks","block","blocksControl","fieldsAttributes","reduce","acc","controlsAttributes","category","icon","supports","parent","edit","color","setColor","blockProps","entries","changedBackgroundColor","innerBlocks","allowedBlocks","save","Fragment","Content","blockFactory"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","(function() { module.exports = window[\"React\"]; }());","import React from \"react\";\nexport const FieldWrapper = (props) => {\n    const { label, children } = props;\n    return React.createElement(\"div\", null,\n        !!(label === null || label === void 0 ? void 0 : label.length) && React.createElement(\"label\", { className: \"field-label\" }, label),\n        !!children && children);\n};\nexport default FieldWrapper;\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","export * from \"./addable\";\nexport * from \"./colors-palette\";\nexport * from \"./cta\";\nexport * from \"./date-picker\";\nexport * from \"./last-types\";\nexport * from \"./media\";\nexport * from \"./select\";\nexport * from \"./text\";\nexport * from \"./types-selection\";\nexport * from \"./rich-text\";\nexport * from \"./wrapper\";\n","(function() { module.exports = window[\"wp\"][\"components\"]; }());","import React, { useMemo } from \"react\";\nimport { CtaField, ColorsPaletteField, TextField, MediaField, RichTextField, DatePickerField, AddableField, SelectField, TypesSelectionField, LastTypesField } from \"./fields\";\nconst FieldsDictionary = {\n    'text': TextField,\n    'media': MediaField,\n    'richText': RichTextField,\n    'datePicker': DatePickerField,\n    'cta': CtaField,\n    'colors': ColorsPaletteField,\n    'select': SelectField,\n    'itemsSelection': TypesSelectionField,\n    'lastTypes': LastTypesField\n};\nexport const BlockField = props => {\n    var _a, _b, _c, _d, _e;\n    const { config, value, onChange } = props;\n    const DynamicField = useMemo(() => {\n        var _a, _b;\n        return (_b = FieldsDictionary[(_a = config.field) !== null && _a !== void 0 ? _a : 'text']) !== null && _b !== void 0 ? _b : FieldsDictionary.text;\n    }, [config === null || config === void 0 ? void 0 : config.type]);\n    return React.createElement(\"div\", { className: \"field-wrapper\", style: { flex: \"0 1 \" + ((_a = config.width) !== null && _a !== void 0 ? _a : 100) + '%' } }, !((_b = config === null || config === void 0 ? void 0 : config.children) === null || _b === void 0 ? void 0 : _b.length)\n        ? React.createElement(DynamicField, { label: (_c = config.label) !== null && _c !== void 0 ? _c : config.name, onChange: onChange, value: value, placeholder: \"\", customAttributes: (_d = config.attributes) !== null && _d !== void 0 ? _d : {} })\n        : React.createElement(\"div\", null,\n            React.createElement(AddableField, { config: config, onChange: onChange, value: value, customAttributes: (_e = config.attributes) !== null && _e !== void 0 ? _e : {} })));\n};\n","(function() { module.exports = window[\"wp\"][\"data\"]; }());","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useMemo } from 'react';\nimport { BlockField } from \"../block-field\";\nconst AddableFieldItem = props => {\n    const { config, onChange, index, value } = props;\n    return React.createElement(BlockField, { config: config, onChange: value => onChange(value, index), value: value });\n};\nexport const AddableField = (props) => {\n    const _a = props.config, _b = _a === void 0 ? {} : _a, { children: fields = [] } = _b, componentProps = __rest(_b, [\"children\"]), { onChange = () => null, value = [] } = props;\n    const count = useMemo(() => value === null || value === void 0 ? void 0 : value.length, [value]);\n    const updateChild = (name, changes, index) => {\n        const newValues = [...value];\n        newValues[index] = Object.assign(Object.assign({}, newValues[index]), { [name]: changes });\n        return onChange(newValues);\n    };\n    const addItem = () => onChange([...value, \"\"]);\n    const removeItem = (index) => onChange(value.filter((_, i) => i !== index));\n    console.log({ componentProps });\n    return React.createElement(\"div\", null,\n        React.createElement(\"div\", null,\n            \"Count: \",\n            count),\n        Array.from({ length: count }, (_) => fields)\n            .map((fields, index) => React.createElement(\"div\", { className: \"cyclops-addable-item\" },\n            fields.map((config) => {\n                var _a, _b;\n                return React.createElement(AddableFieldItem, { config: config, onChange: value => updateChild(config.name, value, index), value: (_b = (_a = value[index]) === null || _a === void 0 ? void 0 : _a[config.name]) !== null && _b !== void 0 ? _b : '', index: index });\n            }),\n            React.createElement(\"button\", { className: \"cyclops-button\", onClick: e => removeItem(index) },\n                \"Remove #\",\n                index))),\n        React.createElement(\"button\", { className: \"cyclops-button\", onClick: e => addItem() }, \"Aggiungi nuovo\"));\n};\nexport default AddableField;\n//   const {\n//     children = [],\n//     onChange = () => null,\n//     value = []\n//   } = props;\n//\n//   const [items, setItems] = useState(value);\n//   const [fullValue, setFullValue] = useState(value);\n//   const addItem = () => setItems(items + 1);\n//   const removeItem = () => items > 0 ? setItems(items - 1) : 0;\n//   const updateChildrenValue = (addableIndex, fieldIndex, e) => {\n//\n//   };\n//\n//   useEffect(() => {\n//     const array = fullValue;\n//     array.length = items;\n//\n//   }, [items])\n//\n//   return (\n//       <div>\n//         <div>{JSON.stringify(value)}</div>\n//         {\n//           Array.from({length: items})\n//               .map((_, addableIndex) => {\n//                 return children.map((field, fieldIndex) => {\n//                   return (<WFField fieldConfig={field}\n//                                    value={\"\"}\n//                                    onChange={e => updateChildrenValue(addableIndex, fieldIndex, e)}/>)\n//                 });\n//               })\n//         }\n//\n//         <button onClick={addItem}>Add</button>\n//         <button onClick={removeItem}>Remove</button>\n//       </div>\n//   );\n// };\n//\n// export default AddableField;\n","import React from \"react\";\nimport { ColorPalette } from \"@wordpress/components\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const ColorsPaletteField = props => {\n    var _a, _b;\n    const { value, customAttributes, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"br\", null),\n        React.createElement(ColorPalette, { colors: (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.colors) !== null && _a !== void 0 ? _a : [], value: value, disableCustomColors: (_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.customColors) !== null && _b !== void 0 ? _b : false, onChange: onChange }));\n};\nexport default ColorsPaletteField;\n","import React from \"react\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const CtaField = props => {\n    const { value, placeholder, onChange, label = \"\" } = props;\n    const buttonObject = !!value ? JSON.parse(value) : false;\n    const html = buttonObject && (buttonObject === null || buttonObject === void 0 ? void 0 : buttonObject.href) !== ''\n        ? `<a href=\"${buttonObject === null || buttonObject === void 0 ? void 0 : buttonObject.href}\">${buttonObject === null || buttonObject === void 0 ? void 0 : buttonObject.text}</a>`\n        : buttonObject === null || buttonObject === void 0 ? void 0 : buttonObject.text;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(RichText, { value: html, \"aria-label\": 'Button text', placeholder: placeholder || 'Add text…', inlineToolbar: true, className: \"wp-block-button__link\", onChange: (value) => {\n                var _a, _b;\n                const $dom = (new DOMParser()).parseFromString(value, 'text/html');\n                const $link = $dom.body.querySelector('a');\n                const text = (_a = $link === null || $link === void 0 ? void 0 : $link.innerText) !== null && _a !== void 0 ? _a : value;\n                const href = (_b = $link === null || $link === void 0 ? void 0 : $link.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n                onChange(JSON.stringify({ href, text }));\n            } }));\n};\nexport default CtaField;\n","import React from \"react\";\n// import DayPickerInput from 'react-day-picker/DayPickerInput';\nimport { FieldWrapper } from \"./wrapper\";\nexport const DatePickerField = (props) => {\n    const { label = \"\", value, onChange } = props;\n    return (React.createElement(FieldWrapper, { label: label }));\n};\nexport default DatePickerField;\n","import React, { useEffect } from 'react';\nimport { FieldWrapper } from \"./wrapper\";\nimport { useSelect } from '@wordpress/data';\nexport const LastTypesField = props => {\n    const { value, onChange, label = \"\", customAttributes } = props;\n    const posts = useSelect((select) => {\n        var _a, _b, _c, _d, _e;\n        const type = (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.postType) !== null && _a !== void 0 ? _a : 'posts';\n        const source = type === 'user' ? 'root' : 'postType';\n        const query = Object.assign(Object.assign(Object.assign({}, (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categories) && { [(_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categoriesName) !== null && _b !== void 0 ? _b : 'categories']: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categories })), (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.perPage) && { per_page: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.perPage })), (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) && {\n            metaKey: (_c = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _c === void 0 ? void 0 : _c.key,\n            metaValue: (_d = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _d === void 0 ? void 0 : _d.value,\n            metaCompare: (_e = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _e === void 0 ? void 0 : _e.compare,\n        }));\n        return select('core').getEntityRecords(source, type, query);\n    }, []);\n    useEffect(() => {\n        if (!(posts === null || posts === void 0 ? void 0 : posts.length))\n            return;\n        onChange(JSON.stringify(posts.map(post => post.id)));\n    }, [posts]);\n    return (React.createElement(FieldWrapper, { label: label }, (posts === null || posts === void 0 ? void 0 : posts.length) > 0 && React.createElement(\"ul\", null, posts.map((post) => {\n        var _a;\n        return (React.createElement(\"li\", null, (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered));\n    }))));\n};\nexport default LastTypesField;\n","import React, { useMemo } from \"react\";\nimport { MediaPlaceholder } from '@wordpress/block-editor';\nexport const MediaField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    const { value: { id: currentSelectedId } } = props;\n    const isMediaSeleced = useMemo(() => !!currentSelectedId, [currentSelectedId]);\n    return React.createElement(\"div\", null,\n        !isMediaSeleced &&\n            React.createElement(MediaPlaceholder, { onSelect: onChange, allowedTypes: ['image'], multiple: false, labels: { title: 'The Image' }, value: props.value, addToGallery: true }),\n        isMediaSeleced &&\n            React.createElement(\"div\", null,\n                React.createElement(\"div\", { className: \"wf-media-preview\" },\n                    React.createElement(\"img\", { src: props.value.url, alt: props.value.alt })),\n                React.createElement(\"div\", null,\n                    React.createElement(\"button\", { type: \"button\", onClick: e => props.onChange({}) }, \"Rimuovi Immagine\"))));\n};\nexport default MediaField;\n","import React from \"react\";\nimport { SelectControl } from \"@wordpress/components\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const SelectField = props => {\n    var _a, _b, _c;\n    const { value, customAttributes, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"br\", null),\n        React.createElement(SelectControl, { label: (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.placeholder) !== null && _a !== void 0 ? _a : 'Select an option...', value: value, options: (_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.options) !== null && _b !== void 0 ? _b : [], multiple: (_c = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.multiple) !== null && _c !== void 0 ? _c : false, onChange: onChange }));\n};\nexport default SelectField;\n","import React from \"react\";\nimport { PlainText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const TextField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(PlainText, { onChange: onChange, value: value, placeholder: placeholder }));\n};\nexport default TextField;\n","import React, { useEffect, useState } from 'react';\nimport { FieldWrapper } from \"./wrapper\";\nimport { useSelect } from '@wordpress/data';\nexport const TypesSelectionField = props => {\n    const { value, onChange, label = \"\", customAttributes } = props;\n    const [searchKey, setSearchKey] = useState('');\n    const [selection, setSelection] = useState([]);\n    const [firstLoaded, setFirstLoaded] = useState(false);\n    const posts = useSelect((select) => {\n        var _a;\n        const type = (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.postType) !== null && _a !== void 0 ? _a : 'posts';\n        const source = type === 'user' ? 'root' : 'postType';\n        const query = Object.assign({ search: searchKey }, (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.role) && { role: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.role }));\n        return select('core').getEntityRecords(source, type, query);\n    }, [searchKey]);\n    const values = (value === null || value === void 0 ? void 0 : value.length) ? JSON.parse(value) : [];\n    useEffect(() => {\n        if (firstLoaded || !(posts === null || posts === void 0 ? void 0 : posts.length))\n            return;\n        let selectedValues = [];\n        values.forEach((id) => { var _a; return selectedValues = [...selectedValues, (_a = posts.filter(post => +post.id === +id)) === null || _a === void 0 ? void 0 : _a[0]]; });\n        setSelection(selectedValues);\n        setFirstLoaded(true);\n    }, [posts]);\n    const handleSelection = (selectedItem) => {\n        if (selection.some(item => item.id === selectedItem.id)) {\n            setSelection(selection.filter(item => item.id !== selectedItem.id));\n            return;\n        }\n        setSelection([...selection, selectedItem]);\n    };\n    useEffect(() => {\n        if (!firstLoaded)\n            return;\n        onChange(JSON.stringify(selection.map(post => post.id)));\n    }, [selection]);\n    return (React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"div\", { className: \"TypesSelection\" },\n            React.createElement(\"div\", { className: \"type-selection-wrapper\" },\n                React.createElement(\"div\", { className: \"type-selection-search-wrapper\" },\n                    React.createElement(\"input\", { type: \"text\", autoComplete: \"off\", className: \"type-selection-search-input\", name: \"search\", placeholder: \"Search...\", onChange: (e) => setSearchKey(e.currentTarget.value) }),\n                    (posts === null || posts === void 0 ? void 0 : posts.length) > 0 && React.createElement(\"ul\", { className: \"type-selection-results\", style: { listStyle: 'none' } }, posts.map((post) => {\n                        var _a, _b;\n                        return (React.createElement(\"li\", { className: \"type-selection-result\" },\n                            React.createElement(\"button\", { className: values.includes(post.id) ? '--selected' : '', onClick: () => {\n                                    handleSelection(post);\n                                } }, (_b = (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered) !== null && _b !== void 0 ? _b : `${post.first_name} ${post.last_name}`)));\n                    })),\n                    (!posts || (posts === null || posts === void 0 ? void 0 : posts.length) === 0) &&\n                        React.createElement(\"div\", { className: \"type-selection-no-result\" }, \"No results found\")),\n                React.createElement(\"div\", { className: \"type-selection-selection-wrapper\" }, selection.length > 0 && selection.map(post => {\n                    var _a, _b;\n                    return (React.createElement(\"span\", { className: \"type-selection-selection\" }, (_b = (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered) !== null && _b !== void 0 ? _b : `${post.first_name} ${post.last_name}`));\n                }))))));\n};\nexport default TypesSelectionField;\n","import React from \"react\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const RichTextField = props => {\n    const { value, placeholder, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(RichText, { value: value, placeholder: placeholder, onChange: onChange }));\n};\nexport default RichTextField;\n","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","import React from \"react\";\nimport { BlockField } from \"./block-field\";\nexport const BlockWrapper = props => {\n    const { blockName = \"\", children, config: { fields = [] }, setAttributes, backgroundColor, attributes } = props;\n    // useEffect(() => {\n    //   console.log({attributes})\n    // }, [attributes]);\n    return (React.createElement(\"div\", { className: \"BlockWrapper\" },\n        !!(blockName === null || blockName === void 0 ? void 0 : blockName.length) && (React.createElement(\"h3\", { className: \"title\" }, blockName)),\n        backgroundColor !== 'transparent' && React.createElement(\"div\", { className: \"background-wrapper\" },\n            \"Colore di sfondo: \",\n            React.createElement(\"span\", { className: \"background-color\", style: { backgroundColor: backgroundColor } })),\n        !!children && React.createElement(\"div\", { className: \"BlockWrapper__children\" }, children),\n        React.createElement(\"div\", { className: \"BlockWrapper__content\", style: { display: \"flex\", flexFlow: \"row wrap\" } }, fields.map(config => {\n            var _a;\n            return (React.createElement(BlockField, { config: config, onChange: (content) => setAttributes(Object.assign(Object.assign({}, attributes), { [config.name]: content })), value: (_a = attributes[config.name]) !== null && _a !== void 0 ? _a : \"\" }));\n        }))));\n};\nexport default BlockWrapper;\n","import React from \"react\";\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { BlockField } from \"./block-field\";\nexport const PanelWrapper = props => {\n    var _a;\n    const { field, onChangeColor, setAttributes, attributes } = props;\n    return (React.createElement(Panel, null,\n        React.createElement(PanelBody, { title: field.label, initialOpen: true },\n            React.createElement(PanelRow, null,\n                React.createElement(BlockField, { config: Object.assign(Object.assign({}, field), { \"label\": '' }), onChange: (content) => {\n                        if (field.field === 'colors') {\n                            onChangeColor(content);\n                        }\n                        setAttributes(Object.assign(Object.assign({}, attributes), { [field.name]: content }));\n                    }, value: (_a = attributes[field.name]) !== null && _a !== void 0 ? _a : \"\" })))));\n};\nexport default PanelWrapper;\n","var _a, _b, _c;\nimport React, { useEffect, useState } from \"react\";\nimport { registerBlockType } from \"@wordpress/blocks\";\n// @ts-ignore\nimport { InnerBlocks, InspectorControls, useBlockProps } from \"@wordpress/block-editor\";\nimport { BlockWrapper } from \"./components/block-wrapper\";\nimport { PanelWrapper } from \"./components/panel-wrapper\";\nimport './styles/_main.scss';\nconst blockFactory = (config) => {\n    var _a;\n    const { name, fields, blocksControl } = config;\n    const fieldsAttributes = fields.reduce((acc, { type, name }) => {\n        return Object.assign(Object.assign({}, acc), { [name]: { type, } });\n    }, {});\n    const controlsAttributes = blocksControl.reduce((acc, { type, name }) => {\n        return Object.assign(Object.assign({}, acc), { [name]: { type, } });\n    }, {});\n    const attributes = Object.assign(Object.assign({}, fieldsAttributes), controlsAttributes);\n    return registerBlockType(config.blockName, {\n        title: config.name,\n        // description: __('An example block', 'cy'),\n        category: 'layout',\n        icon: 'smiley',\n        supports: { html: true },\n        parent: (_a = config.parent) !== null && _a !== void 0 ? _a : null,\n        attributes,\n        edit: (props) => {\n            var _a;\n            const [color, setColor] = useState('transparent');\n            const blockProps = useBlockProps({\n                className: config.blockName\n            });\n            useEffect(() => {\n                for (const [key, value] of Object.entries(props.attributes)) {\n                    if (key === 'backgroundColor') {\n                        setColor(value);\n                        break;\n                    }\n                }\n            }, []);\n            const changedBackgroundColor = (color) => {\n                setColor(color);\n            };\n            return (React.createElement(\"div\", Object.assign({}, blockProps),\n                React.createElement(BlockWrapper, Object.assign({ blockName: name, config: config, backgroundColor: color }, props)),\n                React.createElement(InspectorControls, null, config.blocksControl.map(field => (React.createElement(PanelWrapper, Object.assign({ field: field, onChangeColor: changedBackgroundColor }, props))))),\n                ((_a = config.innerBlocks) === null || _a === void 0 ? void 0 : _a.length) &&\n                    React.createElement(\"div\", { className: \"inner-blocks\" },\n                        \"Add fields \",\n                        React.createElement(InnerBlocks, { allowedBlocks: config.innerBlocks }))));\n        },\n        save: (props) => {\n            var _a;\n            return (React.createElement(React.Fragment, null,\n                props,\n                ((_a = config.innerBlocks) === null || _a === void 0 ? void 0 : _a.length) && React.createElement(InnerBlocks.Content, null)));\n        }\n    });\n};\n(_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.CY) === null || _a === void 0 ? void 0 : _a.blocks) === null || _b === void 0 ? void 0 : _b.forEach) === null || _c === void 0 ? void 0 : _c.call(_b, config => {\n    const block = blockFactory(config);\n    console.log({ block });\n});\n"],"sourceRoot":""}