{"version":3,"file":"index.js","mappings":"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","sources":["webpack://cyclops-wordpress-library/./blocks/index.tsx","webpack://cyclops-wordpress-library/./blocks/components/block-field.tsx","webpack://cyclops-wordpress-library/./blocks/components/block-wrapper.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/addable.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/checkbox.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/colors-palette.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/cta.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/date-picker.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/last-types.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/media.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/rich-text.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/select.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/text.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/types-selection.tsx","webpack://cyclops-wordpress-library/./blocks/components/fields/wrapper.tsx","webpack://cyclops-wordpress-library/./blocks/components/panel-wrapper.tsx","webpack://cyclops-wordpress-library/external window \"React\"","webpack://cyclops-wordpress-library/external window [\"wp\",\"blockEditor\"]","webpack://cyclops-wordpress-library/external window [\"wp\",\"blocks\"]","webpack://cyclops-wordpress-library/external window [\"wp\",\"components\"]","webpack://cyclops-wordpress-library/external window [\"wp\",\"data\"]","webpack://cyclops-wordpress-library/webpack/bootstrap","webpack://cyclops-wordpress-library/webpack/runtime/compat get default export","webpack://cyclops-wordpress-library/webpack/runtime/define property getters","webpack://cyclops-wordpress-library/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["var _a, _b, _c;\nimport React, { useEffect, useState } from \"react\";\nimport { registerBlockType } from \"@wordpress/blocks\";\n// @ts-ignore\nimport { InnerBlocks, InspectorControls, useBlockProps } from \"@wordpress/block-editor\";\nimport { BlockWrapper } from \"./components/block-wrapper\";\nimport { PanelWrapper } from \"./components/panel-wrapper\";\nimport './styles/_main.scss';\nconst blockFactory = (config) => {\n    var _a;\n    const { name, fields, blocksControl } = config;\n    const fieldsAttributes = fields.reduce((acc, { type, name }) => {\n        return Object.assign(Object.assign({}, acc), { [name]: { type, } });\n    }, {});\n    const controlsAttributes = blocksControl.reduce((acc, { type, name }) => {\n        return Object.assign(Object.assign({}, acc), { [name]: { type, } });\n    }, {});\n    const attributes = Object.assign(Object.assign({}, fieldsAttributes), controlsAttributes);\n    return registerBlockType(config.blockName, {\n        title: config.name,\n        // description: __('An example block', 'cy'),\n        category: 'layout',\n        icon: 'smiley',\n        supports: { html: true },\n        parent: (_a = config.parent) !== null && _a !== void 0 ? _a : null,\n        attributes,\n        edit: (props) => {\n            var _a;\n            const [color, setColor] = useState('transparent');\n            const blockProps = useBlockProps({\n                className: config.blockName\n            });\n            useEffect(() => {\n                for (const [key, value] of Object.entries(props.attributes)) {\n                    if (key === 'backgroundColor') {\n                        setColor(value);\n                        break;\n                    }\n                }\n            }, []);\n            const changedBackgroundColor = (color) => {\n                setColor(color);\n            };\n            return (React.createElement(\"div\", Object.assign({}, blockProps),\n                React.createElement(BlockWrapper, Object.assign({ blockName: name, config: config, backgroundColor: color }, props)),\n                React.createElement(InspectorControls, null, config.blocksControl.map(field => (React.createElement(PanelWrapper, Object.assign({ field: field, onChangeColor: changedBackgroundColor }, props))))),\n                ((_a = config.innerBlocks) === null || _a === void 0 ? void 0 : _a.length) &&\n                    React.createElement(\"div\", { className: \"inner-blocks\" },\n                        \"Add fields \",\n                        React.createElement(InnerBlocks, { allowedBlocks: config.innerBlocks }))));\n        },\n        save: (props) => {\n            var _a;\n            return (React.createElement(React.Fragment, null,\n                props,\n                ((_a = config.innerBlocks) === null || _a === void 0 ? void 0 : _a.length) && React.createElement(InnerBlocks.Content, null)));\n        }\n    });\n};\n(_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.CY) === null || _a === void 0 ? void 0 : _a.blocks) === null || _b === void 0 ? void 0 : _b.forEach) === null || _c === void 0 ? void 0 : _c.call(_b, config => {\n    const block = blockFactory(config);\n    console.log({ block });\n});\n","import React, { useMemo } from \"react\";\nimport { CtaField, ColorsPaletteField, TextField, MediaField, RichTextField, DatePickerField, AddableField, SelectField, TypesSelectionField, LastTypesField, CheckboxField } from \"./fields\";\nconst FieldsDictionary = {\n    'text': TextField,\n    'checkbox': CheckboxField,\n    'media': MediaField,\n    'richText': RichTextField,\n    'datePicker': DatePickerField,\n    'cta': CtaField,\n    'colors': ColorsPaletteField,\n    'select': SelectField,\n    'itemsSelection': TypesSelectionField,\n    'lastTypes': LastTypesField\n};\nexport const BlockField = props => {\n    var _a, _b, _c, _d, _e;\n    const { config, value, onChange } = props;\n    const DynamicField = useMemo(() => {\n        var _a, _b;\n        return (_b = FieldsDictionary[(_a = config.field) !== null && _a !== void 0 ? _a : 'text']) !== null && _b !== void 0 ? _b : FieldsDictionary.text;\n    }, [config === null || config === void 0 ? void 0 : config.type]);\n    return React.createElement(\"div\", { className: \"field-wrapper\", style: { flex: \"0 1 \" + ((_a = config.width) !== null && _a !== void 0 ? _a : 100) + '%' } }, !((_b = config === null || config === void 0 ? void 0 : config.children) === null || _b === void 0 ? void 0 : _b.length)\n        ? React.createElement(DynamicField, { label: (_c = config.label) !== null && _c !== void 0 ? _c : config.name, onChange: onChange, value: value, placeholder: \"\", customAttributes: (_d = config.attributes) !== null && _d !== void 0 ? _d : {} })\n        : React.createElement(AddableField, { config: config, onChange: onChange, value: value, customAttributes: (_e = config.attributes) !== null && _e !== void 0 ? _e : {} }));\n};\n","import React from \"react\";\nimport { BlockField } from \"./block-field\";\nexport const BlockWrapper = props => {\n    const { blockName = \"\", children, config: { fields = [] }, setAttributes, backgroundColor, attributes } = props;\n    return (React.createElement(\"div\", { className: \"BlockWrapper\" },\n        !!(blockName === null || blockName === void 0 ? void 0 : blockName.length) && (React.createElement(\"h3\", { className: \"title\" }, blockName)),\n        backgroundColor !== 'transparent' && React.createElement(\"div\", { className: \"background-wrapper\" },\n            \"Colore di sfondo: \",\n            React.createElement(\"span\", { className: \"background-color\", style: { backgroundColor: backgroundColor } })),\n        !!children && React.createElement(\"div\", { className: \"BlockWrapper__children\" }, children),\n        React.createElement(\"div\", { className: \"BlockWrapper__content\", style: { display: \"flex\", flexFlow: \"row wrap\" } }, fields.map(config => {\n            var _a;\n            return (React.createElement(BlockField, { config: config, onChange: (content) => setAttributes(Object.assign(Object.assign({}, attributes), { [config.name]: content })), value: (_a = attributes[config.name]) !== null && _a !== void 0 ? _a : \"\" }));\n        }))));\n};\nexport default BlockWrapper;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useMemo } from 'react';\nimport { BlockField } from \"../block-field\";\nconst AddableFieldItem = props => {\n    const { config, onChange, index, value } = props;\n    return React.createElement(BlockField, { config: config, onChange: value => onChange(value, index), value: value });\n};\nexport const AddableField = (props) => {\n    const _a = props.config, _b = _a === void 0 ? {} : _a, { children: fields = [] } = _b, componentProps = __rest(_b, [\"children\"]), { onChange = () => null, value = [] } = props;\n    const count = useMemo(() => value === null || value === void 0 ? void 0 : value.length, [value]);\n    const updateChild = (name, changes, index) => {\n        const newValues = [...value];\n        newValues[index] = Object.assign(Object.assign({}, newValues[index]), { [name]: changes });\n        return onChange(newValues);\n    };\n    const addItem = () => onChange([...value, \"\"]);\n    const removeItem = (index) => onChange(value.filter((_, i) => i !== index));\n    console.log({ componentProps });\n    return React.createElement(\"div\", null,\n        React.createElement(\"div\", null,\n            \"Count: \",\n            count),\n        Array.from({ length: count }, (_) => fields)\n            .map((fields, index) => React.createElement(\"div\", { className: \"cyclops-addable-item\" },\n            fields.map((config) => {\n                var _a, _b;\n                return React.createElement(AddableFieldItem, { config: config, onChange: value => updateChild(config.name, value, index), value: (_b = (_a = value[index]) === null || _a === void 0 ? void 0 : _a[config.name]) !== null && _b !== void 0 ? _b : '', index: index });\n            }),\n            React.createElement(\"button\", { className: \"cyclops-button\", onClick: e => removeItem(index) },\n                \"Remove #\",\n                index))),\n        React.createElement(\"button\", { className: \"cyclops-button\", onClick: e => addItem() }, \"Aggiungi nuovo\"));\n};\nexport default AddableField;\n//   const {\n//     children = [],\n//     onChange = () => null,\n//     value = []\n//   } = props;\n//\n//   const [items, setItems] = useState(value);\n//   const [fullValue, setFullValue] = useState(value);\n//   const addItem = () => setItems(items + 1);\n//   const removeItem = () => items > 0 ? setItems(items - 1) : 0;\n//   const updateChildrenValue = (addableIndex, fieldIndex, e) => {\n//\n//   };\n//\n//   useEffect(() => {\n//     const array = fullValue;\n//     array.length = items;\n//\n//   }, [items])\n//\n//   return (\n//       <div>\n//         <div>{JSON.stringify(value)}</div>\n//         {\n//           Array.from({length: items})\n//               .map((_, addableIndex) => {\n//                 return children.map((field, fieldIndex) => {\n//                   return (<WFField fieldConfig={field}\n//                                    value={\"\"}\n//                                    onChange={e => updateChildrenValue(addableIndex, fieldIndex, e)}/>)\n//                 });\n//               })\n//         }\n//\n//         <button onClick={addItem}>Add</button>\n//         <button onClick={removeItem}>Remove</button>\n//       </div>\n//   );\n// };\n//\n// export default AddableField;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from \"react\";\nimport { CheckboxControl } from \"@wordpress/components\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const CheckboxField = props => {\n    const { value, placeholder, label = '' } = props, attrs = __rest(props, [\"value\", \"placeholder\", \"label\"]);\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(CheckboxControl, Object.assign({ checked: value, help: placeholder }, attrs)));\n};\nexport default CheckboxField;\n","import React from \"react\";\nimport { ColorPalette } from \"@wordpress/components\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const ColorsPaletteField = props => {\n    var _a, _b;\n    const { value, customAttributes, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"br\", null),\n        React.createElement(ColorPalette, { colors: (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.colors) !== null && _a !== void 0 ? _a : [], value: value, disableCustomColors: (_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.customColors) !== null && _b !== void 0 ? _b : false, onChange: onChange }));\n};\nexport default ColorsPaletteField;\n","import React from \"react\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const CtaField = props => {\n    var _a;\n    const { value, placeholder, onChange, label = \"\" } = props;\n    const html = value && (value === null || value === void 0 ? void 0 : value.href) !== ''\n        ? `<a href=\"${value === null || value === void 0 ? void 0 : value.href}\">${value === null || value === void 0 ? void 0 : value.text}</a>`\n        : ((_a = value === null || value === void 0 ? void 0 : value.text) !== null && _a !== void 0 ? _a : '');\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(RichText, { value: html, \"aria-label\": 'Button text', placeholder: placeholder || 'Add text…', inlineToolbar: true, className: \"wp-block-button__link\", onChange: (inputValue) => {\n                var _a, _b;\n                const $dom = (new DOMParser()).parseFromString(inputValue, 'text/html');\n                const $link = $dom.body.querySelector('a');\n                const text = (_a = $link === null || $link === void 0 ? void 0 : $link.innerText) !== null && _a !== void 0 ? _a : inputValue;\n                const href = (_b = $link === null || $link === void 0 ? void 0 : $link.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n                onChange({ href, text });\n            } }));\n};\nexport default CtaField;\n","import React from \"react\";\n// import DayPickerInput from 'react-day-picker/DayPickerInput';\nimport { FieldWrapper } from \"./wrapper\";\nexport const DatePickerField = (props) => {\n    const { label = \"\", value, onChange } = props;\n    return (React.createElement(FieldWrapper, { label: label }));\n};\nexport default DatePickerField;\n","import React, { useEffect } from 'react';\nimport { FieldWrapper } from \"./wrapper\";\nimport { useSelect } from '@wordpress/data';\nexport const LastTypesField = props => {\n    const { value, onChange, label = \"\", customAttributes } = props;\n    const posts = useSelect((select) => {\n        var _a, _b, _c, _d, _e;\n        const type = (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.postType) !== null && _a !== void 0 ? _a : 'posts';\n        const source = type === 'user' ? 'root' : 'postType';\n        const query = Object.assign(Object.assign(Object.assign({}, (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categories) && { [(_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categoriesName) !== null && _b !== void 0 ? _b : 'categories']: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.categories })), (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.perPage) && { per_page: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.perPage })), (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) && {\n            metaKey: (_c = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _c === void 0 ? void 0 : _c.key,\n            metaValue: (_d = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _d === void 0 ? void 0 : _d.value,\n            metaCompare: (_e = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.metaField) === null || _e === void 0 ? void 0 : _e.compare,\n        }));\n        return select('core').getEntityRecords(source, type, query);\n    }, []);\n    useEffect(() => {\n        if (!(posts === null || posts === void 0 ? void 0 : posts.length))\n            return;\n        onChange(JSON.stringify(posts.map(post => post.id)));\n    }, [posts]);\n    return (React.createElement(FieldWrapper, { label: label }, (posts === null || posts === void 0 ? void 0 : posts.length) > 0 && React.createElement(\"ul\", null, posts.map((post) => {\n        var _a;\n        return (React.createElement(\"li\", null, (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered));\n    }))));\n};\nexport default LastTypesField;\n","import React, { useMemo } from \"react\";\nimport { MediaPlaceholder } from '@wordpress/block-editor';\nexport const MediaField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    const { value: { id: currentSelectedId } } = props;\n    const isMediaSeleced = useMemo(() => !!currentSelectedId, [currentSelectedId]);\n    return React.createElement(\"div\", null,\n        !isMediaSeleced &&\n            React.createElement(MediaPlaceholder, { onSelect: onChange, allowedTypes: ['image'], multiple: false, labels: { title: 'The Image' }, value: props.value, addToGallery: true }),\n        isMediaSeleced &&\n            React.createElement(\"div\", null,\n                React.createElement(\"div\", { className: \"wf-media-preview\" },\n                    React.createElement(\"img\", { src: props.value.url, alt: props.value.alt })),\n                React.createElement(\"div\", null,\n                    React.createElement(\"button\", { type: \"button\", onClick: e => props.onChange({}) }, \"Rimuovi Immagine\"))));\n};\nexport default MediaField;\n","import React from \"react\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const RichTextField = props => {\n    const { value, placeholder, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(RichText, { value: value, placeholder: placeholder, onChange: onChange }));\n};\nexport default RichTextField;\n","import React from \"react\";\nimport { SelectControl } from \"@wordpress/components\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const SelectField = props => {\n    var _a, _b, _c;\n    const { value, customAttributes, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"br\", null),\n        React.createElement(SelectControl, { label: (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.placeholder) !== null && _a !== void 0 ? _a : 'Select an option...', value: value, options: (_b = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.options) !== null && _b !== void 0 ? _b : [], multiple: (_c = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.multiple) !== null && _c !== void 0 ? _c : false, onChange: onChange }));\n};\nexport default SelectField;\n","import React from \"react\";\nimport { PlainText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const TextField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(PlainText, { onChange: onChange, value: value, placeholder: placeholder }));\n};\nexport default TextField;\n","import React, { useEffect, useState } from 'react';\nimport { FieldWrapper } from \"./wrapper\";\nimport { useSelect } from '@wordpress/data';\nexport const TypesSelectionField = props => {\n    const { value, onChange, label = \"\", customAttributes } = props;\n    const [searchKey, setSearchKey] = useState('');\n    const [selection, setSelection] = useState([]);\n    const [firstLoaded, setFirstLoaded] = useState(false);\n    const posts = useSelect((select) => {\n        var _a;\n        const type = (_a = customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.postType) !== null && _a !== void 0 ? _a : 'posts';\n        const source = type === 'user' ? 'root' : 'postType';\n        const query = Object.assign({ search: searchKey }, (!!(customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.role) && { role: customAttributes === null || customAttributes === void 0 ? void 0 : customAttributes.role }));\n        return select('core').getEntityRecords(source, type, query);\n    }, [searchKey]);\n    const values = (value === null || value === void 0 ? void 0 : value.length) ? JSON.parse(value) : [];\n    useEffect(() => {\n        if (firstLoaded || !(posts === null || posts === void 0 ? void 0 : posts.length))\n            return;\n        let selectedValues = [];\n        values.forEach((id) => { var _a; return selectedValues = [...selectedValues, (_a = posts.filter(post => +post.id === +id)) === null || _a === void 0 ? void 0 : _a[0]]; });\n        setSelection(selectedValues);\n        setFirstLoaded(true);\n    }, [posts]);\n    const handleSelection = (selectedItem) => {\n        if (selection.some(item => item.id === selectedItem.id)) {\n            setSelection(selection.filter(item => item.id !== selectedItem.id));\n            return;\n        }\n        setSelection([...selection, selectedItem]);\n    };\n    useEffect(() => {\n        if (!firstLoaded)\n            return;\n        onChange(JSON.stringify(selection.map(post => post.id)));\n    }, [selection]);\n    return (React.createElement(FieldWrapper, { label: label },\n        React.createElement(\"div\", { className: \"TypesSelection\" },\n            React.createElement(\"div\", { className: \"type-selection-wrapper\" },\n                React.createElement(\"div\", { className: \"type-selection-search-wrapper\" },\n                    React.createElement(\"input\", { type: \"text\", autoComplete: \"off\", className: \"type-selection-search-input\", name: \"search\", placeholder: \"Search...\", onChange: (e) => setSearchKey(e.currentTarget.value) }),\n                    (posts === null || posts === void 0 ? void 0 : posts.length) > 0 && React.createElement(\"ul\", { className: \"type-selection-results\", style: { listStyle: 'none' } }, posts.map((post) => {\n                        var _a, _b;\n                        return (React.createElement(\"li\", { className: \"type-selection-result\" },\n                            React.createElement(\"button\", { className: values.includes(post.id) ? '--selected' : '', onClick: () => {\n                                    handleSelection(post);\n                                } }, (_b = (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered) !== null && _b !== void 0 ? _b : post.name)));\n                    })),\n                    (!posts || (posts === null || posts === void 0 ? void 0 : posts.length) === 0) &&\n                        React.createElement(\"div\", { className: \"type-selection-no-result\" }, \"No results found\")),\n                React.createElement(\"div\", { className: \"type-selection-selection-wrapper\" }, selection.length > 0 && selection.map(post => {\n                    var _a, _b;\n                    return (React.createElement(\"span\", { className: \"type-selection-selection\" }, (_b = (_a = post.title) === null || _a === void 0 ? void 0 : _a.rendered) !== null && _b !== void 0 ? _b : post.name));\n                }))))));\n};\nexport default TypesSelectionField;\n","import React from \"react\";\nexport const FieldWrapper = (props) => {\n    const { label, children } = props;\n    return React.createElement(\"div\", null,\n        !!(label === null || label === void 0 ? void 0 : label.length) && React.createElement(\"label\", { className: \"field-label\" }, label),\n        !!children && children);\n};\nexport default FieldWrapper;\n","import React from \"react\";\nimport { Panel, PanelBody, PanelRow } from '@wordpress/components';\nimport { BlockField } from \"./block-field\";\nexport const PanelWrapper = props => {\n    var _a;\n    const { field, onChangeColor, setAttributes, attributes } = props;\n    return (React.createElement(Panel, null,\n        React.createElement(PanelBody, { title: field.label, initialOpen: true },\n            React.createElement(PanelRow, null,\n                React.createElement(BlockField, { config: Object.assign(Object.assign({}, field), { \"label\": '' }), onChange: (content) => {\n                        if (field.field === 'colors') {\n                            onChangeColor(content);\n                        }\n                        setAttributes(Object.assign(Object.assign({}, attributes), { [field.name]: content }));\n                    }, value: (_a = attributes[field.name]) !== null && _a !== void 0 ? _a : \"\" })))));\n};\nexport default PanelWrapper;\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"names":["_a","_b","_c","FieldsDictionary","BlockField","props","_d","_e","config","value","onChange","DynamicField","useMemo","field","text","type","className","style","flex","width","children","length","customAttributes","attributes","label","name","placeholder","BlockWrapper","blockName","fields","setAttributes","backgroundColor","display","flexFlow","map","content","Object","assign","AddableFieldItem","index","AddableField","componentProps","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","__rest","count","updateChild","changes","newValues","console","log","Array","from","_","onClick","filter","removeItem","CheckboxField","attrs","CheckboxControl","checked","help","ColorsPaletteField","ColorPalette","colors","disableCustomColors","customColors","CtaField","html","href","RichText","inlineToolbar","inputValue","$link","DOMParser","parseFromString","body","querySelector","innerText","getAttribute","DatePickerField","LastTypesField","posts","useSelect","select","postType","source","query","categories","categoriesName","perPage","per_page","metaField","metaKey","key","metaValue","metaCompare","compare","getEntityRecords","useEffect","JSON","stringify","post","id","title","rendered","MediaField","currentSelectedId","isMediaSeleced","MediaPlaceholder","onSelect","allowedTypes","multiple","labels","addToGallery","src","url","alt","RichTextField","SelectField","SelectControl","options","TextField","PlainText","TypesSelectionField","searchKey","setSearchKey","useState","selection","setSelection","firstLoaded","setFirstLoaded","search","role","values","parse","selectedValues","forEach","autoComplete","currentTarget","listStyle","includes","selectedItem","some","item","FieldWrapper","PanelWrapper","onChangeColor","Panel","PanelBody","initialOpen","PanelRow","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","CY","blocks","block","blocksControl","fieldsAttributes","reduce","acc","controlsAttributes","registerBlockType","category","icon","supports","parent","edit","color","setColor","blockProps","useBlockProps","entries","changedBackgroundColor","InspectorControls","innerBlocks","InnerBlocks","allowedBlocks","save","blockFactory"],"sourceRoot":""}