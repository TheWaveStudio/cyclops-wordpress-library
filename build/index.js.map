{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./blocks/components/block-field.tsx","webpack:///./blocks/components/block-wrapper.tsx","webpack:///./blocks/components/fields/addable.tsx","webpack:///./blocks/components/fields/date-picker.tsx","webpack:///./blocks/components/fields/index.ts","webpack:///./blocks/components/fields/media.tsx","webpack:///./blocks/components/fields/rich-text.tsx","webpack:///./blocks/components/fields/text.tsx","webpack:///./blocks/components/fields/wrapper.tsx","webpack:///./blocks/index.tsx","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external \"React\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./blocks/index.tsx\");\n","import React, { useMemo } from \"react\";\nimport { TextField, MediaField, RichTextField, DatePickerField, AddableField } from \"./fields\";\nconst FieldsDictionary = {\n    'text': TextField,\n    'media': MediaField,\n    'richText': RichTextField,\n    'datePicker': DatePickerField\n};\nexport const BlockField = props => {\n    var _a, _b, _c;\n    const { config, value, onChange } = props;\n    const DynamicField = useMemo(() => {\n        var _a, _b;\n        return (_b = FieldsDictionary[(_a = config.field) !== null && _a !== void 0 ? _a : 'text']) !== null && _b !== void 0 ? _b : FieldsDictionary.text;\n    }, [config === null || config === void 0 ? void 0 : config.type]);\n    return React.createElement(\"div\", { className: \"field-wrapper\", style: { flex: \"0 1 \" + ((_a = config.width) !== null && _a !== void 0 ? _a : 100) + '%' } }, !((_b = config === null || config === void 0 ? void 0 : config.children) === null || _b === void 0 ? void 0 : _b.length)\n        ? React.createElement(DynamicField, { label: (_c = config.label) !== null && _c !== void 0 ? _c : config.name, onChange: onChange, value: value, placeholder: \"\" })\n        : React.createElement(\"div\", null,\n            React.createElement(AddableField, { config: config, onChange: onChange, value: value }),\n            JSON.stringify(value)));\n};\n","import React from \"react\";\nimport { BlockField } from \"./block-field\";\nexport const BlockWrapper = props => {\n    const { blockName = \"\", children, config: { fields = [] }, setAttributes, attributes } = props;\n    // useEffect(() => {\n    //   console.log({attributes})\n    // }, [attributes]);\n    return (React.createElement(\"div\", { className: \"BlockWrapper\" },\n        !!(blockName === null || blockName === void 0 ? void 0 : blockName.length) && (React.createElement(\"h3\", { className: \"title\" }, blockName)),\n        !!children && React.createElement(\"div\", { className: \"BlockWrapper__children\" }, children),\n        React.createElement(\"div\", { className: \"BlockWrapper__content\", style: { display: \"flex\", flexFlow: \"row wrap\" } }, fields.map(config => {\n            var _a;\n            return (React.createElement(BlockField, { config: config, onChange: (content) => setAttributes(Object.assign(Object.assign({}, attributes), { [config.name]: content })), value: (_a = attributes[config.name]) !== null && _a !== void 0 ? _a : \"\" }));\n        }))));\n};\nexport default BlockWrapper;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useMemo } from 'react';\nimport { BlockField } from \"../block-field\";\nconst AddableFieldItem = props => {\n    const { config, onChange, index, value } = props;\n    return React.createElement(BlockField, { config: config, onChange: value => onChange(value, index), value: value });\n};\nexport const AddableField = (props) => {\n    const _a = props.config, _b = _a === void 0 ? {} : _a, { children: fields = [] } = _b, componentProps = __rest(_b, [\"children\"]), { onChange = () => null, value = [] } = props;\n    const count = useMemo(() => value === null || value === void 0 ? void 0 : value.length, [value]);\n    const updateChild = (name, changes, index) => {\n        const newValues = [...value];\n        newValues[index] = Object.assign(Object.assign({}, newValues[index]), { [name]: changes });\n        return onChange(newValues);\n    };\n    const addItem = () => onChange([...value, \"\"]);\n    const removeItem = (index) => onChange(value.filter((_, i) => i !== index));\n    console.log({ componentProps });\n    return React.createElement(\"div\", null,\n        React.createElement(\"div\", null,\n            \"Count: \",\n            count),\n        Array.from({ length: count }, (_) => fields)\n            .map((fields, index) => React.createElement(React.Fragment, null,\n            fields.map((config) => {\n                var _a;\n                return React.createElement(AddableFieldItem, { config: config, onChange: value => updateChild(config.name, value, index), value: (_a = value[index]) === null || _a === void 0 ? void 0 : _a[config.name], index: index });\n            }),\n            React.createElement(\"button\", { onClick: e => removeItem(index) },\n                \"Remove #\",\n                index))),\n        React.createElement(\"button\", { onClick: e => addItem() }, \"Aggiungi nuovo\"));\n};\nexport default AddableField;\n//   const {\n//     children = [],\n//     onChange = () => null,\n//     value = []\n//   } = props;\n//\n//   const [items, setItems] = useState(value);\n//   const [fullValue, setFullValue] = useState(value);\n//   const addItem = () => setItems(items + 1);\n//   const removeItem = () => items > 0 ? setItems(items - 1) : 0;\n//   const updateChildrenValue = (addableIndex, fieldIndex, e) => {\n//\n//   };\n//\n//   useEffect(() => {\n//     const array = fullValue;\n//     array.length = items;\n//\n//   }, [items])\n//\n//   return (\n//       <div>\n//         <div>{JSON.stringify(value)}</div>\n//         {\n//           Array.from({length: items})\n//               .map((_, addableIndex) => {\n//                 return children.map((field, fieldIndex) => {\n//                   return (<WFField fieldConfig={field}\n//                                    value={\"\"}\n//                                    onChange={e => updateChildrenValue(addableIndex, fieldIndex, e)}/>)\n//                 });\n//               })\n//         }\n//\n//         <button onClick={addItem}>Add</button>\n//         <button onClick={removeItem}>Remove</button>\n//       </div>\n//   );\n// };\n//\n// export default AddableField;\n","import React from \"react\";\n// import DayPickerInput from 'react-day-picker/DayPickerInput';\nimport { FieldWrapper } from \"./wrapper\";\nexport const DatePickerField = (props) => {\n    const { label = \"\", value, onChange } = props;\n    return (React.createElement(FieldWrapper, { label: label }));\n};\nexport default DatePickerField;\n","export * from \"./addable\";\nexport * from \"./date-picker\";\nexport * from \"./media\";\nexport * from \"./text\";\nexport * from \"./rich-text\";\nexport * from \"./wrapper\";\n","import React, { useMemo } from \"react\";\nimport { MediaPlaceholder } from '@wordpress/block-editor';\nexport const MediaField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    const { value: { id: currentSelectedId } } = props;\n    const isMediaSeleced = useMemo(() => !!currentSelectedId, [currentSelectedId]);\n    return React.createElement(\"div\", null,\n        !isMediaSeleced &&\n            React.createElement(MediaPlaceholder, { onSelect: onChange, allowedTypes: ['image'], multiple: false, labels: { title: 'The Image' }, value: props.value, addToGallery: true }),\n        isMediaSeleced &&\n            React.createElement(\"div\", null,\n                React.createElement(\"div\", { className: \"wf-media-preview\" },\n                    React.createElement(\"img\", { src: props.value.url, alt: props.value.alt })),\n                React.createElement(\"div\", null,\n                    React.createElement(\"button\", { type: \"button\", onClick: e => props.onChange({}) }, \"Rimuovi Immagine\"))));\n};\nexport default MediaField;\n","import React from \"react\";\nimport { RichText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const RichTextField = props => {\n    const { value, placeholder, onChange, label = \"\" } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(RichText, { value: value, placeholder: placeholder, onChange: onChange }));\n};\nexport default RichTextField;\n","import React from \"react\";\nimport { PlainText } from \"@wordpress/block-editor\";\nimport { FieldWrapper } from \"./wrapper\";\nexport const TextField = props => {\n    const { label = \"\", onChange, value, placeholder } = props;\n    return React.createElement(FieldWrapper, { label: label },\n        React.createElement(PlainText, { onChange: onChange, value: value, placeholder: placeholder }));\n};\nexport default TextField;\n","import React from \"react\";\nexport const FieldWrapper = (props) => {\n    const { label, children } = props;\n    return React.createElement(\"div\", null,\n        !!(label === null || label === void 0 ? void 0 : label.length) && React.createElement(\"label\", null, label),\n        !!children && children);\n};\nexport default FieldWrapper;\n","var _a, _b, _c;\nimport React from \"react\";\n// import {__} from \"@wordpress/i18n\";\nimport { registerBlockType } from \"@wordpress/blocks\";\nimport { BlockWrapper } from \"./components/block-wrapper\";\nconst blockFactory = (config) => {\n    const { name, fields } = config;\n    const attributes = fields.reduce((acc, { type, name }) => {\n        return Object.assign(Object.assign({}, acc), { [name]: { type, } });\n    }, {});\n    return registerBlockType(config.blockName, {\n        title: config.name,\n        // description: __('An example block', 'cy'),\n        category: 'layout',\n        icon: 'smiley',\n        supports: { html: true },\n        attributes,\n        edit: (props) => (React.createElement(React.Fragment, null,\n            React.createElement(BlockWrapper, Object.assign({ blockName: name, config: config }, props)))),\n        save: (props) => {\n            console.log('save', { props });\n            return React.createElement(\"div\", null, \"Hello!\");\n        }\n    });\n};\n(_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.CY) === null || _a === void 0 ? void 0 : _a.blocks) === null || _b === void 0 ? void 0 : _b.forEach) === null || _c === void 0 ? void 0 : _c.call(_b, config => {\n    const block = blockFactory(config);\n    console.log({ block });\n});\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"React\"]; }());"],"sourceRoot":""}